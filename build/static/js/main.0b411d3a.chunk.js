(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var o,r,a,i=n(0),s=n.n(i),c=n(26),l=n(7),u=n.n(l),p=n(9),m=n(1),d=n(2),h=n(5),f=n(4),v=n(17),y=n(6),b=n(12),C=n(20),g=n.n(C),w=n(27),O=n.n(w),N=n(24),j=n(21),x={},k=function(){var e=Object(p.a)(u.a.mark(function e(t){var n,o,r,a,i,s,c,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.moduleName+"."+t.serviceName+"."+t.methodName,o=n.replace("/","@"),r=A.inernalModuleContext.moduleApiPath+"/service/rpc/"+o,a={method:"POST",body:t&&JSON.stringify(t),headers:{"Content-Type":"application/json; charset=utf-8"}},i=void 0,s=void 0,e.prev=6,e.next=9,fetch(r,a);case 9:return l=e.sent,e.next=12,l.text();case 12:i=e.sent,l.status.toString().startsWith("2")?(s=i?JSON.parse(i):void 0)&&s.error&&(c=new Error(s.error)):c=new Error(i),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),c=e.t0;case 19:if(!c){e.next=24;break}throw s?console.error("RPC "+n,{args:t.args,result:s}):console.error("RPC "+n,{args:t.args,result:i,error:c&&c.message||c}),c;case 24:return console.log("RPC "+n,{args:t.args,result:s}),e.abrupt("return",s&&s.result);case 26:case"end":return e.stop()}},e,null,[[6,16]])}));return function(t){return e.apply(this,arguments)}}(),S=function(e,t){return new Proxy({},{get:function(n,o){return"then"===o?null:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i={serviceName:e,moduleName:t,methodName:o,args:r};return function(e,t){var n=Date.now(),o=n-5e3;return x[e]&&x[e].timestamp<o&&delete x[e],x[e]?console.log("RPC cache hit",e):x[e]={timestamp:n,result:t()},x[e].result}(JSON.stringify(i),function(){return k(i)})}}})},E=new(function(){function e(){var t=this;Object(m.a)(this,e),this.moduleController=S("ModuleController","reactron"),this.appController=S("AppController","reactron"),this.logController=S("LogController","reactron"),this.serviceController=S("ServiceController","reactron"),this.webComponentController=S("WebComponentController","reactron"),this.webPageController=S("WebPageController","reactron"),this._modulesCache=void 0,this._settingsCache=void 0,this._servicesCache=void 0,this._serviceOptionsCache={},this._pagesCache=void 0,this._componentsCache=void 0,this.modules={getAll:function(){return t._modulesCache||(t._modulesCache=t.moduleController.getAll())},add:function(e){return delete t._modulesCache,t.moduleController.add(e)},remove:function(e){return delete t._modulesCache,t.moduleController.remove(e)},update:function(e){return delete t._modulesCache,t.moduleController.update(e)},updateAll:function(){return delete t._modulesCache,t.moduleController.updateAll()},checkUpdates:this.moduleController.checkUpdates},this.application={getServerInfo:this.appController.getServerInfo,exitApplication:this.appController.exitApplication,restartApplication:this.appController.restartApplication,shutdownSystem:this.appController.shutdownSystem,rebootSystem:this.appController.rebootSystem,resetApplication:this.appController.resetApplication,getSettings:function(){return t._settingsCache||(t._settingsCache=t.appController.getSettings())},setSettings:function(e){return t._settingsCache=e,t.appController.setSettings(e)}},this.log={getLogEntries:this.logController.getLogEntries},this.services={getAllServices:function(){return t._servicesCache||(t._servicesCache=t.serviceController.getAllServices())},getServiceOptions:function(e,n){var o=e+"."+n;return t._serviceOptionsCache[o]||(t._serviceOptionsCache[o]=t.serviceController.getServiceOptions(e,n))},setServiceOptions:function(e,n,o){var r=e+"."+n;return t._serviceOptionsCache[r]=o,t.serviceController.setServiceOptions(e,n,o)}},this.components={getAll:function(){return t._componentsCache||(t._componentsCache=t.webComponentController.getAll())},createOrUpdate:function(e){return delete t._componentsCache,t.webComponentController.createOrUpdate(e)},delete:function(e){return delete t._componentsCache,t.webComponentController.delete(e)}},this.pages={getAll:function(){return t._pagesCache||(t._pagesCache=t.webPageController.getAll())},createOrUpdate:function(e){return delete t._pagesCache,t.webPageController.createOrUpdate(e)},delete:function(e){return delete t._pagesCache,t.webPageController.delete(e)}}}return Object(d.a)(e,[{key:"clearCache",value:function(){delete this._modulesCache,delete this._settingsCache,delete this._servicesCache,this._serviceOptionsCache={},delete this._pagesCache,delete this._componentsCache}}]),e}()),T={clearAllSubscriptions:function(){},once:function(){},publish:function(){},subscribe:function(){},unsubscribe:function(){}},A=function(){function e(t){Object(m.a)(this,e),this.moduleName=t,this.services=E,this.moduleApiPath=void 0;var n=(t||"").replace("/","@");this.moduleApiPath="/api/modules/"+n}return Object(d.a)(e,[{key:"getService",value:function(){var t=Object(p.a)(u.a.mark(function t(n,o){var r,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=o||this.moduleName,a=n+"."+r,e.serviceCache[a]||(e.serviceCache[a]=S(n,r)),t.abrupt("return",Promise.resolve(e.serviceCache[a]));case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"electron",get:function(){return o}},{key:"topics",get:function(){return T}},{key:"settings",get:function(){return r}},{key:"moduleStorage",get:function(){var t="module."+this.moduleName;return a&&!e.moduleStoreCache[t]&&(e.moduleStoreCache[t]=new a({name:t})),e.moduleStoreCache[t]}}],[{key:"init",value:function(){var t=Object(p.a)(u.a.mark(function t(){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!o&&window.require&&(o=window.require("electron"),n=o.remote.require("./dist/server/BackendService").BackendService.instance,T=n.topics,a=o.remote.require("electron-store"),T.subscribe(b.topicNames.systemSettingsUpdated,function(e,t){r=t})),e.inernalModuleContext=new e("reactron"),r){t.next=6;break}return t.next=5,E.application.getSettings();case 5:r=t.sent;case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}]),e}();A.inernalModuleContext=void 0,A.moduleStoreCache={},A.serviceCache={};var L=n(19),_=n(29),M=n(53),D=n(54),I=n(10),P=n(11),V=n(55),R=n.n(V),F=n(56),z=(n(79),n(80),{component:function(e){function t(){var e,n;Object(m.a)(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).context=void 0,n}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return i.createElement("section",{className:"CarouselLayout",style:this.props.style},i.createElement(F.Carousel,Object.assign({autoPlay:!0,infiniteLoop:!0,showThumbs:!1,showArrows:!1,showStatus:!1},this.props.options),this.props.items.map(function(t){return e.context.renderComponent({id:t})})))}}]),t}(i.Component),description:"Carousel Layout",displayName:"Carousel Layout",name:"CarouselLayout",type:"layout",fields:[{displayName:"Options",name:"options",valueType:"object",fields:[{displayName:"Interval in ms",name:"interval",valueType:"number",defaultValue:5e3,minValue:1e3,stepSize:50},{displayName:"Transition Time in ms",name:"transitionTime",valueType:"number",defaultValue:500,minValue:100,stepSize:50},{displayName:"Show Indicators",name:"showIndicators",valueType:"boolean",defaultValue:!0},{displayName:"Show Arrows",name:"showArrows",valueType:"boolean",defaultValue:!1},{displayName:"Show Status",name:"showStatus",valueType:"boolean",defaultValue:!1},{displayName:"Center Mode",name:"centerMode",valueType:"boolean",defaultValue:!1},{displayName:"Center Slide Percentage",name:"centerSlidePercentage",valueType:"number",defaultValue:70,minValue:1,maxValue:100,stepSize:1},{displayName:"Axis",name:"axis",valueType:"boolean",defaultValue:"horizontal",values:[{value:"horizontal",text:"horizontal"},{value:"vertical",text:"vertical"}]}],inputControl:function(e){var t=e.value&&e.value.interval;return i.createElement("span",null,"interval ",t," ms")}},{displayName:"Content",name:"items",valueType:"webComponent",isArray:!0},{displayName:"Carousel Style",name:"style",valueType:"style"}]}),U=(n(81),{component:function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).context=void 0,n.renderTile=n.renderTile.bind(Object(v.a)(n)),n}return Object(y.a)(t,e),Object(d.a)(t,[{key:"renderTile",value:function(e,t){var n=Object(L.a)({},this.props.tileStyle,e.style);return n.gridColumn=e.col.toString(),e.colspan>1&&(n.gridColumn+=" / span "+e.colspan),n.gridRow=e.row.toString(),e.rowspan>1&&(n.gridRow+=" / span "+e.rowspan),i.createElement("div",{className:"GridTile",key:t,style:n},this.context.renderComponent({id:e.content}))}},{key:"render",value:function(){return i.createElement("section",{className:"GridLayout",style:this.props.gridStyle},this.props.tiles.map(this.renderTile))}}]),t}(i.Component),description:"Grid Layout",displayName:"Grid Layout",name:"GridLayout",type:"layout",fields:[{displayName:"Grid Style",name:"gridStyle",valueType:"style"},{displayName:"Tile Style",name:"tileStyle",valueType:"style"},{displayName:"Grid tiles",name:"tiles",valueType:"object",isArray:!0,fields:[{displayName:"Row",name:"row",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Column",name:"col",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Row span",name:"rowspan",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Column span",name:"colspan",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Content",name:"content",valueType:"webComponent"},{displayName:"Style",name:"style",valueType:"style"}],inputControl:function(e){var t=e.value||{},n=e.getComponentDefinition(t.content),o=n&&n.displayName;return i.createElement("div",{style:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"}},"[ ",t.row," | ",t.col," | ",o," ]")}}]}),W=(n(82),{component:function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.createElement("iframe",{className:"ui-iframe",src:this.props.url})}}]),t}(i.Component),description:"IFrame Component",displayName:"IFrame",name:"IFrame",fields:[{displayName:"URL",name:"url",valueType:"string"}]}),G=(n(83),{component:function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).context=void 0,n.renderListItem=n.renderListItem.bind(Object(v.a)(n)),n}return Object(y.a)(t,e),Object(d.a)(t,[{key:"renderListItem",value:function(e,t){var n=Object(L.a)({},this.props.itemStyle,e.style);return i.createElement("div",{className:"ListItem",key:t,style:n},this.context.renderComponent({id:e.content}))}},{key:"render",value:function(){return i.createElement("section",{className:"ListLayout",style:this.props.listStyle},this.props.items.map(this.renderListItem))}}]),t}(i.Component),description:"List Layout",displayName:"List Layout",name:"ListLayout",type:"layout",fields:[{displayName:"List Style",name:"listStyle",valueType:"style"},{displayName:"Item Style",name:"itemStyle",valueType:"style"},{displayName:"List items",name:"items",valueType:"object",isArray:!0,fields:[{displayName:"Content",name:"content",valueType:"webComponent"},{displayName:"Style",name:"style",valueType:"style"}],inputControl:function(e){var t=e.value||{},n=e.getComponentDefinition(t.content);return n&&n.displayName||null}}]}),K=n(57),q=n.n(K),B=(n(166),{component:function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.createElement("section",{className:"MarkDown",style:this.props.style},i.createElement(q.a,{source:this.props.text}))}}]),t}(i.Component),description:"MarkDown Component",displayName:"MarkDown",name:"MarkDown",fields:[{displayName:"Text",name:"text",valueType:"string",textRows:10},{displayName:"Style",name:"style",valueType:"style"}]}),J=(n(167),{component:function(e){function t(e){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).call(this,e))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.createElement("section",{className:"Notifications"},"Notifications")}}]),t}(i.Component),description:"Notifications",displayName:"Notifications",name:"Notifications",fields:[]}),H=(n(168),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.createElement(N.Link,{className:"RoundButton",to:this.props.to,role:"button"},this.props.children)}}]),t}(i.Component)),Q=n(60),X=n.n(Q),Y=(n(175),[G,z,U,{component:function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={},n}return Object(y.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.application.getServerInfo().then(function(t){e.setState({info:t})})}},{key:"render",value:function(){var e;if(this.state.info){var t="80"===window.location.port?"":":"+window.location.port;e=i.createElement("div",{className:"info"},"To edit this page click Admin-Button or visit",i.createElement("br",null),i.createElement("br",null),i.createElement("i",null,"http://",this.state.info.ip,t,"/admin"))}return i.createElement("section",{className:"Welcome"},i.createElement(H,{to:"/admin"},i.createElement(P.FontAwesomeIcon,{icon:I.faCog}),"Admin"),i.createElement("img",{src:X.a,className:"logo",alt:"logo"}),i.createElement("div",{className:"title"},"Welcome to Reactron"),e)}}]),t}(i.Component),description:"Welcome Component",displayName:"Welcome",name:"Welcome",fields:[]},B,J,W]),Z=window.System,$={};$.react=Object(L.a)({default:i},i),$["react-dom"]=c,$["react-router-dom"]=N,$.numeral={default:O.a},$.moment={default:g.a},$["moment-timezone"]={default:R.a},$["@fortawesome/fontawesome-svg-core"]=_,$["@fortawesome/free-solid-svg-icons"]=I,$["@fortawesome/free-regular-svg-icons"]=D,$["@fortawesome/free-brands-svg-icons"]=M,$["@fortawesome/react-fontawesome"]=P,$["@schirkan/reactron-interfaces"]=b,window.require&&($.electron=window.require("electron")),Object.keys($).forEach(function(e){var t=$[e];Z.register(e,[],function(e){return{execute:function(){return e(t)}}})});var ee=new(function(){function e(){Object(m.a)(this,e),this.allComponentsLoaded=!1,this.moduleComponents={reactron:Y}}return Object(d.a)(e,[{key:"getModuleComponents",value:function(){var e=Object(p.a)(u.a.mark(function e(t){var n,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.moduleComponents[t]){e.next=10;break}return e.next=3,E.modules.getAll();case 3:if(n=e.sent,o=n.find(function(e){return e.name===t})){e.next=8;break}return console.error("Module not found: "+t),e.abrupt("return");case 8:return e.next=10,this.registerModuleComponents(o);case 10:return e.abrupt("return",this.moduleComponents[t]);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"registerModuleComponents",value:function(){var e=Object(p.a)(u.a.mark(function e(t){var n,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.browserFile){e.next=3;break}return console.log("Module has no browserFile: "+t.name),e.abrupt("return");case 3:if(!this.moduleComponents[t.name]){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,console.log(t.browserFile),e.next=9,Z.import("\\"+t.browserFile);case 9:n=e.sent,(o=n.components)&&"object"===typeof o&&Array.isArray(o)&&(this.moduleComponents[t.name]=o),console.log("Components loaded for module: "+t.name),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.error("Error loading components for module: "+t.name,e.t0);case 18:case"end":return e.stop()}},e,this,[[5,15]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getAllComponents",value:function(){var e=Object(p.a)(u.a.mark(function e(){var t,n,o,r,a,i,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.allComponentsLoaded){e.next=2;break}return e.abrupt("return",this.moduleComponents);case 2:return e.next=4,E.modules.getAll();case 4:t=e.sent,n=!0,o=!1,r=void 0,e.prev=8,a=t[Symbol.iterator]();case 10:if(n=(i=a.next()).done){e.next=17;break}return s=i.value,e.next=14,this.registerModuleComponents(s);case 14:n=!0,e.next=10;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),o=!0,r=e.t0;case 23:e.prev=23,e.prev=24,n||null==a.return||a.return();case 26:if(e.prev=26,!o){e.next=29;break}throw r;case 29:return e.finish(26);case 30:return e.finish(23);case 31:return this.allComponentsLoaded=!0,e.abrupt("return",this.moduleComponents);case 33:case"end":return e.stop()}},e,this,[[8,19,23,31],[24,,26,30]])}));return function(){return e.apply(this,arguments)}}()}]),e}()),te=n(28),ne=n.n(te),oe=(n(176),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.createElement("section",{className:ne()("Loading",{center:this.props.center}),style:this.props.style},i.createElement(P.FontAwesomeIcon,{icon:I.faSpinner,size:this.props.iconSize,spin:!0}),this.props.text&&i.createElement("div",{className:"text"},this.props.text))}}]),t}(i.Component));oe.defaultProps={iconSize:"4x"};n(177);var re=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.createElement("div",{className:"PageNotFound"},i.createElement("h1",null,i.createElement(P.FontAwesomeIcon,{icon:I.faQuestionCircle})," 404"),i.createElement("h2",null,"No page defined for path: ",this.props.location.pathname),i.createElement(H,{to:"/admin"},i.createElement(P.FontAwesomeIcon,{icon:I.faCog})," Admin"),i.createElement(H,{to:"/"},i.createElement(P.FontAwesomeIcon,{icon:I.faHome})," Home"))}}]),t}(i.Component),ae=function(){function e(t,n){Object(m.a)(this,e),this.topics=t,this.source=n}return Object(d.a)(e,[{key:"log",value:function(e,t,n){this.topics&&this.topics.publish(b.topicNames.log,{source:this.source,severity:e,message:t,data:n})}},{key:"error",value:function(t,n){this.log("error",t,e.prepareData(n))}},{key:"warning",value:function(t,n){this.log("warning",t,e.prepareData(n))}},{key:"info",value:function(t,n){this.log("information",t,e.prepareData(n))}},{key:"debug",value:function(t,n){this.log("debug",t,e.prepareData(n))}}],[{key:"prepareData",value:function(e){return e instanceof Error?Object(L.a)({},e,{name:e.name,message:e.message,stack:e.stack}):e}}]),e}(),ie=function(e){function t(e){var n;Object(m.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e.moduleName))).renderLoading=void 0,n.renderComponent=void 0,n.componentLoader=ee,n.log=void 0,n.componentName=void 0;var o=e.id||e.moduleName+"."+e.componentName;return n.log=new ae(n.topics,o),n.componentName=e.componentName,n.renderComponent=function(e){var t=e.id+"."+e.moduleName+"."+e.componentName;return s.a.createElement(ue,Object.assign({},e,{key:t}))},n.renderLoading=function(e,t,n){return s.a.createElement(oe,{text:e,iconSize:t,style:n})},n}return Object(y.a)(t,e),t}(A),se=s.a.createContext(new ie({moduleName:"",parentId:"",componentName:"",id:""})),ce=(n(178),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=[];return this.props.id&&e.push("Id: "+this.props.id),this.props.componentName&&e.push("Component: "+this.props.componentName),this.props.moduleName&&e.push("Module: "+this.props.moduleName),i.createElement("section",{className:"ComponentNotFound"},i.createElement("div",{className:"header"},i.createElement(P.FontAwesomeIcon,{icon:I.faExclamationTriangle,size:this.props.iconSize}),i.createElement("h4",null,"Component not found!")),i.createElement("ul",null,e.map(function(e){return i.createElement("li",null,e)})),i.createElement(H,{to:"/admin"},i.createElement(P.FontAwesomeIcon,{icon:I.faCog})," Admin"))}}]),t}(i.Component));ce.defaultProps={iconSize:"4x"};var le=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={error:null},n}return Object(y.a)(t,e),Object(d.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t),this.setState({error:e})}},{key:"render",value:function(){return this.state.error?i.createElement("span",{style:{color:"red"}},"Something went wrong."):this.props.children}}]),t}(i.Component),ue=(n(179),function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={},n}return Object(y.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.id===e.id&&this.props.moduleName===e.moduleName&&this.props.componentName===e.componentName&&this.props.options===e.options||this.loadComponent()}},{key:"componentDidMount",value:function(){this.loadComponent()}},{key:"loadComponent",value:function(){var e=Object(p.a)(u.a.mark(function e(){var t,n,o,r,a=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t={componentFound:!1},!this.props.id){e.next=9;break}return e.next=5,E.components.getAll();case 5:n=e.sent,t.componentOptions=n.find(function(e){return e.id===a.props.id}),e.next=10;break;case 9:this.props.moduleName&&this.props.componentName&&(t.componentOptions={id:"",parentId:"",moduleName:this.props.moduleName,componentName:this.props.componentName,options:this.props.options});case 10:if(!t.componentOptions){e.next=15;break}return e.next=13,ee.getModuleComponents(t.componentOptions.moduleName);case 13:(o=e.sent)&&(r=t.componentOptions.componentName,t.componentDefinition=o.find(function(e){return e.name===r}),t.componentDefinition&&t.componentDefinition.component&&(t.componentContext=new ie(t.componentOptions),t.componentFound=!0));case 15:this.setState(t),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),this.setState({componentFound:!1});case 22:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=i.createElement(oe,{center:!0});if(!1===this.state.componentFound&&(e=i.createElement(ce,Object.assign({},this.props,this.state.componentOptions))),this.state.componentDefinition&&this.state.componentDefinition.component&&this.state.componentContext){var t=this.state.componentDefinition.component;t.contextType||(t.contextType=se);var n=this.state.componentOptions&&this.state.componentOptions.options||{};e=i.createElement(se.Provider,{value:this.state.componentContext},i.createElement(t,n))}var o=ne()("WebComponent",this.props.className);return i.createElement("section",{className:o,style:this.props.style},i.createElement(le,null,e))}}]),t}(i.Component)),pe=(n(180),n(181),n(182),function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).reloadTimer=void 0,n.reloadWait=2e3,n.state={},n.reload=n.reload.bind(Object(v.a)(n)),n.triggerReload=n.triggerReload.bind(Object(v.a)(n)),n.onKeyDown=n.onKeyDown.bind(Object(v.a)(n)),n}return Object(y.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:this.subscribeTopics(),document.addEventListener("keydown",this.onKeyDown);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeTopics(),document.removeEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function(e){var t=window.event?window.event:e;65===t.keyCode&&t.ctrlKey&&t.altKey&&(window.location.href="/admin")}},{key:"subscribeTopics",value:function(){A.inernalModuleContext.topics&&(A.inernalModuleContext.topics.subscribe(b.topicNames.pagesUpdated,this.triggerReload),A.inernalModuleContext.topics.subscribe(b.topicNames.componentsUpdated,this.triggerReload),A.inernalModuleContext.topics.subscribe(b.topicNames.systemSettingsUpdated,this.triggerReload))}},{key:"unsubscribeTopics",value:function(){A.inernalModuleContext.topics&&(A.inernalModuleContext.topics.unsubscribe(b.topicNames.pagesUpdated,this.triggerReload),A.inernalModuleContext.topics.unsubscribe(b.topicNames.componentsUpdated,this.triggerReload),A.inernalModuleContext.topics.unsubscribe(b.topicNames.systemSettingsUpdated,this.triggerReload))}},{key:"init",value:function(){var e=Object(p.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.init();case 2:return g.a.locale(A.inernalModuleContext.settings.lang),O.a.locale(A.inernalModuleContext.settings.lang),e.next=6,ee.getAllComponents();case 6:return e.next=8,E.pages.getAll();case 8:return t=e.sent,e.abrupt("return",this.setState({pages:t}));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"triggerReload",value:function(){window.clearTimeout(this.reloadTimer),this.reloadTimer=window.setTimeout(this.reload,this.reloadWait)}},{key:"reload",value:function(){console.log("reload"),E.clearCache(),this.init()}},{key:"renderPage",value:function(e,t){return function(){return i.createElement("section",{className:"WebPage",style:t},i.createElement(ue,{id:e}))}}},{key:"render",value:function(){var e=this,t=i.createElement(oe,{text:"Loading Reactron...",center:!0});return this.state.pages&&(t=i.createElement(N.BrowserRouter,null,i.createElement(j.g,null,this.state.pages.map(function(t){return i.createElement(j.d,{key:t.path,path:t.path,exact:"/"===t.path,component:e.renderPage(t.webComponentId,t.style)})}),i.createElement(j.d,{component:re})))),i.createElement("section",{className:"App"},t)}}]),t}(i.Component));n(183);c.render(i.createElement(le,null,i.createElement(pe,null)),document.getElementById("root"))},60:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},61:function(e,t,n){e.exports=n(184)},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){}},[[61,1,2]]]);
//# sourceMappingURL=main.0b411d3a.chunk.js.map