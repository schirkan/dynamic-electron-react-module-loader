(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e,t,n){},176:function(e,t,n){},178:function(e,t,n){},184:function(e,t,n){},186:function(e,t,n){},188:function(e,t,n){},190:function(e,t,n){},192:function(e,t,n){},194:function(e,t,n){},196:function(e,t,n){},198:function(e,t,n){},200:function(e,t,n){},202:function(e,t,n){},204:function(e,t,n){},206:function(e,t,n){},208:function(e,t,n){},210:function(e,t,n){},212:function(e,t,n){},214:function(e,t,n){},216:function(e,t,n){},218:function(e,t,n){"use strict";n.r(t);var o,r,i,s,a=n(0),c=n.n(a),l=n(17),u=n(221),p=n(223),h=n(219);window.require&&(o=window.require("electron"),r=o.remote.require("./dist/server/BackendService").BackendService.instance,i=r.topics,s=o.remote.require("electron-store"));var f,d={},m={},y=function(){return function(e){var t=this;this.moduleName=e,this.electron=o,this.backendService=r,this.topics=i;var n="module."+e;d[n]||(d[n]=new s({name:"module."+e})),this.moduleStorage=d[n];var a=e.replace("/","@");this.moduleApiPath="/api/modules/"+a,this.getService=function(n,o){if(t.backendService){var r=(o||e)+"."+n;return m[r]||(m[r]=t.backendService.serviceManager.get(o||e,n)),m[r]}console.log("Method getService() is not supported in browser environment.")}}}(),v=new y("@schirkan/reactron"),g=function(){return function(e,t){this.path=e,this.method=t}}(),b={getServices:new g("/service/","get"),getServiceOptions:new g("/service/:moduleName/:serviceName","get"),setServiceOptions:new g("/service/:moduleName/:serviceName","post"),getModules:new g("/modules/","get"),addModule:new g("/modules/","post"),deleteModule:new g("/modules/:moduleName","delete"),rebuildModule:new g("/modules/:moduleName/rebuild","post"),updateModule:new g("/modules/:moduleName/update","post"),checkUpdates:new g("/modules/checkUpdates/update","get"),getWebPages:new g("/pages/","get"),setWebPage:new g("/pages/","post"),deleteWebPage:new g("/pages/:id","delete"),getServerInfo:new g("/app/","get"),exitApplication:new g("/app/exitApplication","post"),restartApplication:new g("/app/restartApplication","post"),shutdownSystem:new g("/app/shutdownSystem","post"),rebootSystem:new g("/app/restartSystem","post"),resetApplication:new g("/app/resetApplication","post"),getSettings:new g("/settings/","get"),setSettings:new g("/settings/","post"),getWebComponentOptions:new g("/components/","get"),setWebComponentOptions:new g("/components/","post"),deleteWebComponentOptions:new g("/components/:id","delete")},w=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},C=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},E=function(){function e(){this.getAllServices=_(b.getServices,!0),this.getServiceOptions=_(b.getServiceOptions),this.setServiceOptions=_(b.setServiceOptions),this.getModules=_(b.getModules,!0),this.addModule=_(b.addModule),this.checkUpdates=_(b.checkUpdates),this.deleteModule=_(b.deleteModule),this.rebuildModule=_(b.rebuildModule),this.updateModule=_(b.updateModule),this.getWebPages=_(b.getWebPages,!0),this.setWebPage=_(b.setWebPage),this.deleteWebPage=_(b.deleteWebPage),this.getServerInfo=_(b.getServerInfo),this.exitApplication=_(b.exitApplication),this.restartApplication=_(b.restartApplication),this.shutdownSystem=_(b.shutdownSystem),this.rebootSystem=_(b.rebootSystem),this.resetApplication=_(b.resetApplication),this.getSettings=_(b.getSettings,!0),this.setSettings=_(b.setSettings),this.getWebComponentOptions=_(b.getWebComponentOptions,!0),this.setWebComponentOptions=_(b.setWebComponentOptions),this.deleteWebComponentOptions=_(b.deleteWebComponentOptions)}return e.prototype.clearCache=function(){var e=this;Object.keys(this).forEach(function(t){e[t]&&e[t].clearCache&&e[t].clearCache()})},e}(),_=function(e,t){var n;void 0===t&&(t=!1);var o=e.method.toLocaleLowerCase(),r=function(r,i){if(t&&n)return Promise.resolve(n);var s=e.path;return r&&Object.keys(r).forEach(function(e){s=s.replace(":"+e,r[e])}),fetch(v.moduleApiPath+s,{method:o,body:i&&JSON.stringify(i),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){return w(void 0,void 0,void 0,function(){var t;return C(this,function(n){switch(n.label){case 0:return[4,e.text()];case 1:if(t=n.sent(),e.status.toString().startsWith("2"))return t?[2,JSON.parse(t)]:[2,void 0];throw console.log(t),Error(t)}})})}).then(function(e){return t&&(n=e),e})};return r.clearCache=function(){n=void 0},r},O=new E,S=n(3),P=n(2),A=n(222),N=n(37),k=(n(48),f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.render=function(){return a.createElement(N.a,{className:"RoundButton",to:this.props.to,role:"button"},this.props.children)},t}(a.Component),D=n(5),x=(n(50),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return a.createElement("section",{className:D("Loading",{center:this.props.center})},a.createElement(P.FontAwesomeIcon,{icon:S.faSpinner,size:this.props.iconSize,spin:!0}),this.props.text&&a.createElement("div",{className:"text"},this.props.text))},t.defaultProps={iconSize:"4x"},t}(a.Component),M=(n(52),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.renderChildren=function(){return Array.isArray(this.props.children)?this.props.children.map(function(e,t){return a.createElement("div",{key:t},e)}):a.createElement("div",null,this.props.children)},t.prototype.render=function(){return a.createElement("section",{className:D("UiFlowLayout",this.props.className),style:this.props.style},this.renderChildren())},t}(a.Component),T=(n(54),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){return a.createElement("section",{className:D("UiCard",this.props.className),style:this.props.style},this.props.children)},t}(a.Component),R=(n(56),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.render=function(){return a.createElement("div",{className:D("UiCardContent",this.props.className),style:this.props.style},this.props.children)},t}(a.Component),U=(n(58),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return U(t,e),t.prototype.render=function(){return a.createElement("div",{className:D("UiCardTitle",this.props.className),style:this.props.style},this.props.children)},t}(a.Component),B=(n(60),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),G=function(e){function t(t){return e.call(this,t)||this}return B(t,e),t.prototype.render=function(){return a.createElement(F,{className:"UiLoadingCard"},a.createElement(V,null,"Loading..."),a.createElement(L,null,a.createElement(j,null)))},t}(a.Component),z=new(function(){function e(){this.items=[]}return e.prototype.add=function(e){this.items.length>0&&this.items[this.items.length-1].hide();this.items.push(e)},e.prototype.remove=function(e){var t=this.items.indexOf(e);t>=0&&(this.items.splice(t),this.items.length>0&&this.items[this.items.length-1].show())},e}()),H=(n(62),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),q=function(e){function t(t){var n=e.call(this,t)||this;return n.state={visible:!0},n}return H(t,e),t.prototype.componentDidMount=function(){z.add(this)},t.prototype.componentWillUnmount=function(){z.remove(this)},t.prototype.show=function(){this.setState({visible:!0})},t.prototype.hide=function(){this.setState({visible:!1})},t.prototype.render=function(){return a.createElement("div",{hidden:!this.state.visible,className:D("UiOverlay",this.props.className),style:this.props.style},this.props.children)},t}(a.Component),K=(n(64),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),J=function(e){function t(t){var n=e.call(this,t)||this;return n.disposed=!1,n.state={running:!1},n.onClick=n.onClick.bind(n),n}return K(t,e),t.prototype.onClick=function(e){var t=this;!this.props.onClick||this.props.disabled||this.state.running||(e.preventDefault(),e.bubbles=!1,e.stopPropagation(),this.setState({running:!0},function(){Promise.resolve(t.props.onClick&&t.props.onClick()).catch().then(function(){t.disposed||t.setState({running:!1})})}))},t.prototype.componentWillUnmount=function(){this.disposed=!0},t.prototype.render=function(){var e=D("UiButton","clickable",this.props.className,{disabled:this.props.disabled||this.state.running});return a.createElement("div",{className:e,onClick:this.onClick,style:this.props.style},this.props.children)},t}(a.Component),Q=(n(66),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.render=function(){var e,t=this;return a.createElement(F,{className:"AddModuleCard"},a.createElement("input",{ref:function(t){return e=t},placeholder:"GitHub Repository URL"}),a.createElement(J,{className:"addButton",onClick:function(){return t.props.onAdd(e&&e.value)}},a.createElement(P.FontAwesomeIcon,{icon:S.faPlus})," Add"))},t}(a.Component),Z=(n(68),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),X=function(e){function t(t){return e.call(this,t)||this}return Z(t,e),t.prototype.renderCommandResult=function(e,t){var n,o=this,r=!1===e.success?a.createElement(P.FontAwesomeIcon,{icon:S.faTimes}):!0===e.success?a.createElement(P.FontAwesomeIcon,{icon:S.faCheck}):a.createElement(P.FontAwesomeIcon,{icon:S.faQuestion});e.log&&e.log.length&&(n=a.createElement("ul",{className:"log"},e.log.map(function(e,t){return a.createElement("li",{key:t},e)})));var i=e.command||"";return e.args&&(i+=" | args: "+e.args),a.createElement(a.Fragment,{key:t},a.createElement("div",{className:"result"},a.createElement("div",{className:"commandTitle"},r," ",i),n),e.children&&e.children.map(function(e,n){return o.renderCommandResult(e,t+"."+n)}))},t.prototype.render=function(){var e=this;return a.createElement(F,{className:"CommandResult"},a.createElement("div",{className:"title"},"Result"),a.createElement("div",{className:"close clickable",onClick:this.props.onClose},a.createElement(P.FontAwesomeIcon,{icon:S.faTimes})),a.createElement("div",{className:"results"},this.props.results.map(function(t,n){return e.renderCommandResult(t,n.toString())})))},t}(a.Component),$=n(13),ee=(n(70),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.render=function(){var e=D("UiCardButtonRow",this.props.className,{UiCardButtonRowDividerFull:"full"===this.props.divider,UiCardButtonRowDividerHalf:"half"===this.props.divider});return a.createElement("div",{className:e,style:this.props.style},this.props.children)},t}(a.Component),ne=(n(72),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),oe=function(e){function t(t){var n=e.call(this,t)||this;return n.state={showActions:!1},n.showActions=n.showActions.bind(n),n.hideActions=n.hideActions.bind(n),n.onUpdate=n.onUpdate.bind(n),n.onRebuild=n.onRebuild.bind(n),n.onRemove=n.onRemove.bind(n),n}return ne(t,e),t.prototype.showActions=function(){this.setState({showActions:!0})},t.prototype.hideActions=function(){this.setState({showActions:!1})},t.prototype.onUpdate=function(){this.hideActions(),this.props.onUpdate(this.props.module)},t.prototype.onRebuild=function(){this.hideActions(),this.props.onRebuild(this.props.module)},t.prototype.onRemove=function(){this.hideActions(),this.props.onRemove(this.props.module)},t.prototype.renderTitle=function(){var e;return this.props.module.hasUpdate&&(e=a.createElement("span",{className:"hasUpdate"},a.createElement(P.FontAwesomeIcon,{icon:S.faStarOfLife}))),a.createElement(V,null,a.createElement(P.FontAwesomeIcon,{icon:S.faCube})," ",this.props.module.name,e)},t.prototype.renderDescription=function(){return a.createElement(L,{className:"description"},this.props.module.description||"no description")},t.prototype.renderAuthor=function(){var e,t="unknown";"string"===typeof this.props.module.author?t=this.props.module.author:"object"===typeof this.props.module.author&&(t=this.props.module.author.name||this.props.module.author.email,e=this.props.module.author.email);var n=e?a.createElement("a",{href:"mailto://"+e},t):t;return a.createElement(L,{className:"author"},"by ",n)},t.prototype.renderFooter=function(){var e=a.createElement("div",null);this.props.module.repository&&(e=a.createElement("a",{className:"clickable",href:this.props.module.repository,target:"_blank"},a.createElement(P.FontAwesomeIcon,{icon:$.faGithub})," GitHub"));var t=D("footer","default",{hide:this.state.showActions});return a.createElement(te,{className:t,divider:"half"},a.createElement("div",{className:"version"},this.props.module.version),e,a.createElement(J,{onClick:this.showActions},a.createElement(P.FontAwesomeIcon,{icon:S.faCog})," Modify"))},t.prototype.renderActions=function(){var e=D("footer","actions",{hide:!this.state.showActions});return a.createElement(te,{className:e,divider:"full"},a.createElement(J,{disabled:!this.props.module.hasUpdate,onClick:this.onUpdate},"Update"),a.createElement(J,{disabled:!this.props.module.canBuild,onClick:this.onRebuild},"Rebuild"),a.createElement(J,{disabled:!this.props.module.canRemove,onClick:this.onRemove},"Remove"),a.createElement(J,{onClick:this.hideActions},a.createElement(P.FontAwesomeIcon,{icon:S.faTimes})))},t.prototype.render=function(){return a.createElement(F,{className:"ModuleCard"},this.renderTitle(),this.renderDescription(),this.renderAuthor(),this.renderFooter(),this.renderActions())},t}(a.Component),re=(n(74),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return re(t,e),t.prototype.render=function(){var e=this.props.modules.filter(function(e){return e.hasUpdate}),t=this.props.modules.some(function(e){return void 0!==e.hasUpdate})?e.length:"-";return a.createElement(F,{className:"UpdateModulesCard"},a.createElement(te,{divider:"full"},a.createElement("div",null,"Updates: ",t),a.createElement(J,{className:"checkUpdatesButton",onClick:this.props.onCheckUpdates,disabled:this.props.checkingUpdates},a.createElement(P.FontAwesomeIcon,{icon:S.faSyncAlt,spin:this.props.checkingUpdates})," Check"),a.createElement(J,{className:"updateAllButton",onClick:this.props.onUpdateAll,disabled:!e.length},a.createElement(P.FontAwesomeIcon,{icon:S.faDownload})," Update All")))},t}(a.Component),se=(n(76),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),ae=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},ce=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},le=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!1,checkingUpdates:!1,showResult:!1,results:[],modules:[]},n.loadModules=n.loadModules.bind(n),n.checkUpdates=n.checkUpdates.bind(n),n.updateAll=n.updateAll.bind(n),n.updateModule=n.updateModule.bind(n),n.removeModule=n.removeModule.bind(n),n.rebuildModule=n.rebuildModule.bind(n),n.addModule=n.addModule.bind(n),n.hideResult=n.hideResult.bind(n),n}return se(t,e),t.prototype.componentDidMount=function(){this.loadModules()},t.prototype.loadModules=function(){var e=this;return O.getModules().then(function(t){return e.setState({modules:t})}).catch()},t.prototype.checkUpdates=function(){return ae(this,void 0,Promise,function(){return ce(this,function(e){switch(e.label){case 0:return this.setState({checkingUpdates:!0}),[4,O.checkUpdates()];case 1:return e.sent(),this.setState({checkingUpdates:!1}),O.getModules.clearCache(),[4,this.loadModules()];case 2:return e.sent(),[2]}})})},t.prototype.updateAll=function(){return ae(this,void 0,Promise,function(){var e,t,n,o,r,i,s;return ce(this,function(a){switch(a.label){case 0:if(!(e=this.state.modules.filter(function(e){return e.hasUpdate})).length)return[2];t=[],this.setState({loading:!0}),a.label=1;case 1:a.trys.push([1,6,,7]),n=0,o=e,a.label=2;case 2:return n<o.length?(r=o[n],[4,O.updateModule({moduleName:r.name})]):[3,5];case 3:i=a.sent(),t.push.apply(t,i),a.label=4;case 4:return n++,[3,2];case 5:return this.showResult(t),[3,7];case 6:return s=a.sent(),this.showError(s),[3,7];case 7:return O.getModules.clearCache(),[4,this.loadModules()];case 8:return a.sent(),[2]}})})},t.prototype.updateModule=function(e){return ae(this,void 0,Promise,function(){var t,n;return ce(this,function(o){switch(o.label){case 0:if(!e.hasUpdate)return[2];this.setState({loading:!0}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,O.updateModule({moduleName:e.name})];case 2:return t=o.sent(),this.showResult(t),[3,4];case 3:return n=o.sent(),this.showError(n),[3,4];case 4:return O.getModules.clearCache(),[4,this.loadModules()];case 5:return o.sent(),[2]}})})},t.prototype.rebuildModule=function(e){return ae(this,void 0,Promise,function(){var t,n;return ce(this,function(o){switch(o.label){case 0:if(!e.canBuild)return[2];this.setState({loading:!0}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,O.rebuildModule({moduleName:e.name})];case 2:return t=o.sent(),this.showResult(t),[3,4];case 3:return n=o.sent(),this.showError(n),[3,4];case 4:return O.getModules.clearCache(),[4,this.loadModules()];case 5:return o.sent(),[2]}})})},t.prototype.removeModule=function(e){return ae(this,void 0,Promise,function(){var t,n;return ce(this,function(o){switch(o.label){case 0:if(!e.canRemove)return[2];this.setState({loading:!0}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,O.deleteModule({moduleName:e.name})];case 2:return t=o.sent(),this.showResult(t),[3,4];case 3:return n=o.sent(),this.showError(n),[3,4];case 4:return O.getModules.clearCache(),[4,this.loadModules()];case 5:return o.sent(),[2]}})})},t.prototype.addModule=function(e){return ae(this,void 0,Promise,function(){var t,n;return ce(this,function(o){switch(o.label){case 0:if(!e||!e.trim())return[2];this.setState({loading:!0}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,O.addModule(void 0,{repository:e})];case 2:return t=o.sent(),this.showResult(t),[3,4];case 3:return n=o.sent(),this.showError(n),[3,4];case 4:return O.getModules.clearCache(),[4,this.loadModules()];case 5:return o.sent(),[2]}})})},t.prototype.showError=function(e){var t={command:"Error",success:!1,log:[e&&e.message||JSON.stringify(e)]};this.setState({loading:!1,showResult:!0,results:[t]})},t.prototype.showResult=function(e){this.setState({loading:!1,showResult:!0,results:e})},t.prototype.hideResult=function(){this.setState({showResult:!1})},t.prototype.render=function(){var e=this;return a.createElement("section",{className:"ModuleManagerPage"},this.state.loading&&a.createElement(q,null,a.createElement(j,{center:!0})),this.state.showResult&&a.createElement(q,null,a.createElement(X,{results:this.state.results,onClose:this.hideResult})),a.createElement(W,null,a.createElement(Y,{onAdd:this.addModule}),a.createElement(ie,{checkingUpdates:this.state.checkingUpdates,modules:this.state.modules,onCheckUpdates:this.checkUpdates,onUpdateAll:this.updateAll,onUpdateModule:this.updateModule})),!this.state.modules.length&&a.createElement(W,null,a.createElement(G,null)),a.createElement(W,null,this.state.modules.map(function(t){return a.createElement(oe,{key:t.name,module:t,onRemove:e.removeModule,onRebuild:e.rebuildModule,onUpdate:e.updateModule})})))},t}(a.Component),ue=n(220),pe=(n(78),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pe(t,e),t.prototype.render=function(){return a.createElement("section",{className:"Navigation"},a.createElement(ue.a,{activeClassName:"active",to:"/admin/ModuleManager",role:"button"},"Modules"),a.createElement(ue.a,{activeClassName:"active",to:"/admin/ServiceManager",role:"button"},"Services"),a.createElement(ue.a,{activeClassName:"active",to:"/admin/Pages",role:"button"},"Pages"),a.createElement(ue.a,{activeClassName:"active",to:"/admin/Settings",role:"button"},"Settings"),a.createElement(ue.a,{activeClassName:"active",to:"/admin/System",role:"button"},"System"))},t}(a.Component),fe=n(4),de=function(e){var t=e.defaultValue;if(e.isArray)return t&&Array.isArray(t)?t:[];switch(e.valueType){case"object":var n=t;return void 0===n&&(n=me(e.fields)),n;case"number":return t||0;case"boolean":return t||!1;case"string":return t||"";case"style":return t||{};case"webComponent":return}},me=function(e){var t={};return e&&e.forEach(function(e){t[e.name]=de(e)}),t},ye=n(20),ve=(n(83),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),ge=function(){return(ge=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},be=function(e){function t(t){var n=e.call(this,t)||this;return n.arrayKeys=[],n.arrayItemAdd=n.arrayItemAdd.bind(n),n.arrayItemRemove=n.arrayItemRemove.bind(n),n.arrayItemMoveUp=n.arrayItemMoveUp.bind(n),n.arrayItemMoveDown=n.arrayItemMoveDown.bind(n),n}return ve(t,e),t.prototype.arrayItemChange=function(e,t,n){var o=this.props.value||[];(o=o.slice())[e]=n,this.props.valueChange(o)},t.prototype.arrayItemRemove=function(e){var t=this.props.value||[];(t=t.slice()).splice(e,1),this.arrayKeys.splice(e,1),this.props.valueChange(t)},t.prototype.arrayItemMoveUp=function(e){var t=this.props.value||[];if(0!==e){var n=t.splice(e,1)[0];t.splice(e-1,0,n);var o=this.arrayKeys.splice(e,1)[0];this.arrayKeys.splice(e-1,0,o),this.props.valueChange(t)}},t.prototype.arrayItemMoveDown=function(e){var t=this.props.value||[];if(e!==t.length-1){var n=t.splice(e,1)[0];t.splice(e+1,0,n);var o=this.arrayKeys.splice(e,1)[0];this.arrayKeys.splice(e+1,0,o),this.props.valueChange(t)}},t.prototype.arrayItemAdd=function(){var e=ge({},this.props.definition);e.isArray=!1;var t=this.props.value||[];(t=t.slice()).push(de(e)),this.props.valueChange(t)},t.prototype.renderArrayItem=function(e,t){var n=ge({},this.props.definition);n.isArray=!1,n.displayName="Item "+(t+1);var o=this.arrayKeys[t];return o||(o=this.arrayKeys[t]=ye()),a.createElement(a.Fragment,{key:o},a.createElement(lt,{definition:n,value:e,valueChange:this.arrayItemChange.bind(this,t)},a.createElement(J,{onClick:this.arrayItemRemove.bind(this,t)},a.createElement(P.FontAwesomeIcon,{icon:fe.faTrashAlt})),a.createElement(J,{onClick:this.arrayItemMoveUp.bind(this,t)},a.createElement(P.FontAwesomeIcon,{icon:fe.faArrowAltCircleUp})),a.createElement(J,{onClick:this.arrayItemMoveDown.bind(this,t)},a.createElement(P.FontAwesomeIcon,{icon:fe.faArrowAltCircleDown}))))},t.prototype.render=function(){var e=this,t=this.props.value||[];return a.createElement(a.Fragment,null,t.map(function(t,n){return e.renderArrayItem(t,n)}),a.createElement(J,{className:"add-array-item",onClick:this.arrayItemAdd},a.createElement(P.FontAwesomeIcon,{icon:S.faPlus})," Add item"))},t}(a.Component),we=(n(85),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Ce=function(){return(Ce=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ee=["background","backgroundAttachment","backgroundColor","backgroundImage","backgroundPosition","backgroundRepeat","border","borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderColor","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderStyle","borderTop","borderTopColor","borderTopStyle","borderTopWidth","borderWidth","clear","clip","color","cursor","display","filter","cssFloat","font","fontFamily","fontSize","fontVariant","fontWeight","height","left","letterSpacing","lineHeight","listStyle","listStyleImage","listStylePosition","listStyleType","margin","marginBottom","marginLeft","marginRight","marginTop","overflow","padding","paddingBottom","paddingLeft","paddingRight","paddingTop","pageBreakAfter","pageBreakBefore","position","strokeDasharray","strokeDashoffset","strokeWidth","textAlign","textDecoration","textIndent","textTransform","top","verticalAlign","visibility","width","zIndex"],_e=function(e){function t(t){var n=e.call(this,t)||this;return n.state={fields:n.getFields(n.props.value)},n.addField=n.addField.bind(n),n.valueChange=n.valueChange.bind(n),n}return we(t,e),t.prototype.componentDidUpdate=function(e){e!==this.props&&this.setState({fields:this.getFields(this.props.value)})},t.prototype.getFields=function(e){var t=[];return e&&Object.keys(e).forEach(function(e){var n={name:e,displayName:e,valueType:"string"};t.push(n)}),t},t.prototype.valueChange=function(e,t){var n=Ce({},this.props.value);n[e.name]=t,this.props.onChange(n)},t.prototype.removeField=function(e){var t=Ce({},this.props.value);delete t[e],this.props.onChange(t)},t.prototype.addField=function(){if(this.newPropertySelect){var e=this.newPropertySelect.value;if(!(!e||this.props.value&&this.props.value.hasOwnProperty(e))){var t=Ce({},this.props.value);t[e]="",this.props.onChange(t)}}},t.prototype.render=function(){var e=this;return a.createElement("div",{className:"StyleForm"},this.state.fields.map(function(t){var n=e.props.value&&e.props.value[t.name];return a.createElement(lt,{key:t.name,definition:t,value:n,valueChange:e.valueChange},a.createElement(J,{onClick:e.removeField.bind(e,t.name)},a.createElement(P.FontAwesomeIcon,{icon:fe.faTrashAlt})))}),a.createElement("div",{className:"newPropertyRow"},a.createElement("select",{ref:function(t){return e.newPropertySelect=t}},Ee.map(function(e){return a.createElement("option",{key:e,value:e},e)})),a.createElement(J,{onClick:this.addField},a.createElement(P.FontAwesomeIcon,{icon:S.faPlus})," Add")))},t}(a.Component),Oe=n(14),Se=(n(87),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Pe={component:function(e){function t(t){return e.call(this,t)||this}return Se(t,e),t.prototype.render=function(){return a.createElement("section",{className:"CarouselLayout"},"CarouselLayout")},t}(a.Component),description:"Carousel Layout",displayName:"Carousel Layout",name:"CarouselLayout",fields:[]},Ae=(n(89),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Ne=function(){return(Ne=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ke={component:function(e){function t(t){var n=e.call(this,t)||this;return n.renderTile=n.renderTile.bind(n),n}return Ae(t,e),t.prototype.renderTile=function(e,t){var n=Ne({},this.props.tileStyle,e.style);return n.gridColumn=e.col.toString(),e.colspan>1&&(n.gridColumn+=" / span "+e.colspan),n.gridRow=e.row.toString(),e.rowspan>1&&(n.gridRow+=" / span "+e.rowspan),a.createElement("div",{className:"GridTile",key:t,style:n},this.context.renderComponent({id:e.content}))},t.prototype.render=function(){return a.createElement("section",{className:"GridLayout",style:this.props.gridStyle},this.props.tiles.map(this.renderTile))},t}(a.Component),description:"Grid Layout",displayName:"Grid Layout",name:"GridLayout",fields:[{displayName:"Grid Style",name:"gridStyle",valueType:"style"},{displayName:"Tile Style",name:"tileStyle",valueType:"style"},{displayName:"Grid tiles",name:"tiles",valueType:"object",isArray:!0,fields:[{displayName:"Row",name:"row",valueType:"number",minValue:1,defaultValue:1},{displayName:"Column",name:"col",valueType:"number",minValue:1,defaultValue:1},{displayName:"Row span",name:"rowspan",valueType:"number",minValue:1,defaultValue:1},{displayName:"Column span",name:"colspan",valueType:"number",minValue:1,defaultValue:1},{displayName:"Content",name:"content",valueType:"webComponent"},{displayName:"Style",name:"style",valueType:"style"}]}]},Ie=(n(91),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),De={component:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.render=function(){return a.createElement("iframe",{className:"ui-iframe",src:this.props.url})},t}(a.Component),description:"IFrame Component",displayName:"IFrame",name:"IFrame",fields:[{displayName:"URL",name:"url",valueType:"string"}]},xe=(n(93),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),je=function(){return(je=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Me={component:function(e){function t(t){var n=e.call(this,t)||this;return n.renderListItem=n.renderListItem.bind(n),n}return xe(t,e),t.prototype.renderListItem=function(e,t){var n=je({},this.props.itemStyle,e.style);return a.createElement("div",{className:"ListItem",key:t,style:n},this.context.renderComponent({id:e.content}))},t.prototype.render=function(){return a.createElement("section",{className:"ListLayout"},this.props.items.map(this.renderListItem))},t}(a.Component),description:"List Layout",displayName:"List Layout",name:"ListLayout",fields:[{displayName:"List Style",name:"listStyle",valueType:"style"},{displayName:"Item Style",name:"itemStyle",valueType:"style"},{displayName:"List items",name:"items",valueType:"object",isArray:!0,fields:[{displayName:"Content",name:"content",valueType:"webComponent"},{displayName:"Style",name:"style",valueType:"style"}]}]},We=n(38),Te=(n(174),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Fe={component:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.render=function(){return a.createElement("section",{className:"MarkDown"},a.createElement(We,{source:this.props.text}))},t}(a.Component),description:"MarkDown Component",displayName:"MarkDown",name:"MarkDown",fields:[{displayName:"Text",name:"text",valueType:"string",textRows:10}]},Re=(n(176),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Le={component:function(e){function t(t){return e.call(this,t)||this}return Re(t,e),t.prototype.render=function(){return a.createElement("section",{className:"Notifications"},"Notifications")},t}(a.Component),description:"Notifications",displayName:"Notifications",name:"Notifications",fields:[]},Ue=n(39),Ve=n.n(Ue),Be=(n(178),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Ge=[Me,Pe,ke,{component:function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return Be(t,e),t.prototype.componentDidMount=function(){var e=this;O.getServerInfo().then(function(t){e.setState({info:t})})},t.prototype.render=function(){var e;return this.state.info&&(e=a.createElement("div",{className:"info"},"To edit this page click Admin-Button or visit",a.createElement("br",null),a.createElement("br",null),a.createElement("i",null,"http://",this.state.info.ip,":3000/admin"))),a.createElement("section",{className:"Welcome"},a.createElement(I,{to:"/admin"},a.createElement(P.FontAwesomeIcon,{icon:S.faCog}),"Admin"),a.createElement("img",{src:Ve.a,className:"logo",alt:"logo"}),a.createElement("div",{className:"title"},"Welcome to Reactron"),e)},t}(a.Component),description:"Welcome Component",displayName:"Welcome",name:"Welcome",fields:[]},Fe,Le,De],ze=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},He=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},qe=n(27),Ke=n(181),Je=window.System,Qe={};Qe.react=a,Qe["react-dom"]=l,Qe.moment=qe,Qe["moment-timezone"]=Ke,Qe["@fortawesome/fontawesome-svg-core"]=Oe,Qe["@fortawesome/free-solid-svg-icons"]=S,Qe["@fortawesome/free-regular-svg-icons"]=fe,Qe["@fortawesome/free-brands-svg-icons"]=$,Qe["@fortawesome/react-fontawesome"]=P,v.electron&&(Qe.electron=v.electron),Object.keys(Qe).forEach(function(e){var t=Qe[e];Je.register(e,[],function(e){return{execute:function(){return e(t)}}})});var Ye=new(function(){function e(){this.allComponentsLoaded=!1,this.moduleComponents={"@schirkan/reactron":Ge}}return e.prototype.getModuleComponents=function(e){return ze(this,void 0,Promise,function(){var t,n;return He(this,function(o){switch(o.label){case 0:return this.moduleComponents[e]?[3,3]:[4,O.getModules()];case 1:return t=o.sent(),(n=t.find(function(t){return t.name===e}))?[4,this.registerModuleComponents(n)]:(console.log("Module not found loaded: "+e),[2]);case 2:o.sent(),o.label=3;case 3:return[2,this.moduleComponents[e]]}})})},e.prototype.registerModuleComponents=function(e){return ze(this,void 0,Promise,function(){var t,n,o;return He(this,function(r){switch(r.label){case 0:if(!e.browserFile)return console.log("Module has no browserFile: "+e.name),[2];if(this.moduleComponents[e.name])return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),console.log(e.browserFile),[4,Je.import("\\"+e.browserFile)];case 2:return t=r.sent(),(n=t.components)&&"object"===typeof n&&Array.isArray(n)&&(this.moduleComponents[e.name]=n),console.log("Components loaded for module: "+e.name),[3,4];case 3:return o=r.sent(),console.log("Error loading components for module: "+e.name,o),[3,4];case 4:return[2]}})})},e.prototype.getAllComponents=function(){return ze(this,void 0,Promise,function(){var e,t,n,o;return He(this,function(r){switch(r.label){case 0:return this.allComponentsLoaded?[2,this.moduleComponents]:[4,O.getModules()];case 1:e=r.sent(),t=0,n=e,r.label=2;case 2:return t<n.length?(o=n[t],[4,this.registerModuleComponents(o)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return this.allComponentsLoaded=!0,[2,this.moduleComponents]}})})},e}()),Ze=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},Xe=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},$e=function(){function e(){this.subscriptions=[]}return e.prototype.subscribe=function(e){this.subscriptions.push(e)},e.prototype.unsubscribe=function(e){var t=this.subscriptions.indexOf(e);t>=0&&this.subscriptions.splice(t)},e.prototype.publish=function(e){return Ze(this,void 0,Promise,function(){var t,n,o;return Xe(this,function(r){switch(r.label){case 0:t=0,n=this.subscriptions,r.label=1;case 1:return t<n.length?(o=n[t],[4,Promise.resolve(o(e))]):[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e}(),et=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},tt=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},nt=function(){function e(){this.onSave=new $e,this.removedWebComponents=[],this.changedWebComponents=[],this.createdWebComponents=[],this.saveWebComponents=this.saveWebComponents.bind(this),this.onSave.subscribe(this.saveWebComponents)}return e.prototype.saveWebComponents=function(){return et(this,void 0,Promise,function(){var e,t,n,o,r,i,s;return tt(this,function(a){switch(a.label){case 0:console.log("removedWebComponents",this.removedWebComponents),console.log("createdWebComponents",this.createdWebComponents),console.log("changedWebComponents",this.changedWebComponents),e=0,t=this.removedWebComponents,a.label=1;case 1:return e<t.length?(s=t[e],[4,O.deleteWebComponentOptions(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:n=0,o=this.createdWebComponents,a.label=5;case 5:return n<o.length?(s=o[n],[4,O.setWebComponentOptions(void 0,s)]):[3,8];case 6:a.sent(),a.label=7;case 7:return n++,[3,5];case 8:r=0,i=this.changedWebComponents,a.label=9;case 9:return r<i.length?(s=i[r],[4,O.setWebComponentOptions(void 0,s)]):[3,12];case 10:a.sent(),a.label=11;case 11:return r++,[3,9];case 12:return this.removedWebComponents=[],this.changedWebComponents=[],this.createdWebComponents=[],[2]}})})},e.prototype.webComponentRemoved=function(e){console.log("webComponentRemoved",e);var t=this.createdWebComponents.findIndex(function(t){return t.id===e.id});t>=0?this.createdWebComponents.splice(t,1):this.removedWebComponents.push(e)},e.prototype.webComponentChanged=function(e){console.log("webComponentChanged",e);var t=this.createdWebComponents.findIndex(function(t){return t.id===e.id});t>=0?(this.createdWebComponents.splice(t,1),this.changedWebComponents.push(e)):(this.changedWebComponents=this.changedWebComponents.filter(function(t){return t.id!==e.id}),this.changedWebComponents.push(e))},e.prototype.webComponentCreated=function(e){console.log("webComponentCreated",e),this.createdWebComponents.push(e)},e}(),ot=a.createContext(new nt),rt=(n(184),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),it=function(){return(it=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},st=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loadingWebComponents:!0,loadingComponentDefinitions:!0,webComponents:[],componentDefinitions:[]},n.initCurrentComponent=n.initCurrentComponent.bind(n),n.onOptionsChange=n.onOptionsChange.bind(n),n.removeWebComponent=n.removeWebComponent.bind(n),n.onSelectedComponentDefinitionChange=n.onSelectedComponentDefinitionChange.bind(n),n}return rt(t,e),Object.defineProperty(t.prototype,"formEvents",{get:function(){return this.context},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.loadComponentDefinitions(),this.loadWebComponents()},t.prototype.componentWillUnmount=function(){this.state.selectedWebComponentOptions&&this.formEvents.webComponentRemoved(this.state.selectedWebComponentOptions)},t.prototype.loadComponentDefinitions=function(){var e=this;return Ye.getAllComponents().then(function(t){var n=[];Object.keys(t).forEach(function(e){t[e].forEach(function(t){var o=e+"."+t.name;n.push({moduleName:e,definition:t,key:o})})}),e.setState({componentDefinitions:n,loadingComponentDefinitions:!1},e.initCurrentComponent)}).catch(function(e){return console.log(e)})},t.prototype.loadWebComponents=function(){var e=this;return O.getWebComponentOptions().then(function(t){e.setState({webComponents:t,loadingWebComponents:!1},e.initCurrentComponent)}).catch(function(e){return console.log(e)})},t.prototype.initCurrentComponent=function(){var e=this;if(!this.state.loadingWebComponents&&!this.state.loadingComponentDefinitions&&this.props.webComponentId){var t=this.state.webComponents.find(function(t){return t.id===e.props.webComponentId});if(t){var n=t.moduleName+"."+t.componentName,o=this.state.componentDefinitions.find(function(e){return e.key===n});o&&this.setState({selectedComponentDefinition:o,selectedWebComponentOptions:t})}}},t.prototype.onSelectedComponentDefinitionChange=function(e){var t,n=e.currentTarget.value,o=this.state.componentDefinitions.find(function(e){return e.key===n}),r=this.state.selectedWebComponentOptions;o&&(t={id:r&&r.id||o.definition.name+"_"+ye(),moduleName:o.moduleName,componentName:o.definition.name,options:me(o.definition.fields)});var i=t&&t.id;this.props.webComponentId!==i&&(this.props.onChange(i),t?this.formEvents.webComponentCreated(t):r&&this.formEvents.webComponentRemoved(r)),this.setState({selectedWebComponentOptions:t,selectedComponentDefinition:o})},t.prototype.removeWebComponent=function(){this.state.selectedWebComponentOptions&&(this.formEvents.webComponentRemoved(this.state.selectedWebComponentOptions),this.props.onChange(void 0),this.setState({selectedWebComponentOptions:void 0,selectedComponentDefinition:void 0}))},t.prototype.onOptionsChange=function(e){if(this.state.selectedWebComponentOptions){var t=it({},this.state.selectedWebComponentOptions);t.options=e,this.setState({selectedWebComponentOptions:t}),this.formEvents.webComponentChanged(t)}},t.prototype.renderComponentSelection=function(){if(this.state.loadingWebComponents||this.state.loadingComponentDefinitions)return null;var e=this.state.selectedComponentDefinition&&this.state.selectedComponentDefinition.key||"";return this.state.selectedComponentDefinition?a.createElement("div",{className:"componentTitle"},a.createElement(J,null,a.createElement(P.FontAwesomeIcon,{icon:S.faCube})),a.createElement("label",null,this.state.selectedComponentDefinition.definition.displayName," (",this.state.selectedComponentDefinition.moduleName,")"),a.createElement(J,{onClick:this.removeWebComponent},a.createElement(P.FontAwesomeIcon,{icon:fe.faTrashAlt}))):a.createElement("select",{className:"componentSelect",value:e,onChange:this.onSelectedComponentDefinitionChange},a.createElement("option",{key:"_",value:""},"Select Component..."),this.state.componentDefinitions.map(function(e){return a.createElement("option",{key:e.key,value:e.key},e.definition.displayName," (",e.moduleName,")")}))},t.prototype.render=function(){return a.createElement("div",{className:"WebComponentForm"},this.renderComponentSelection(),this.state.selectedWebComponentOptions&&this.state.selectedComponentDefinition&&a.createElement(ht,{value:this.state.selectedWebComponentOptions.options,fields:this.state.selectedComponentDefinition.definition.fields,valueChange:this.onOptionsChange}))},t.contextType=ot,t}(a.Component),at=(n(186),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),ct=0,lt=function(e){function t(t){var n=e.call(this,t)||this,o=!!t.definition.isArray||void 0!==t.definition.textRows&&t.definition.textRows>1;switch(t.definition.valueType){case"object":case"style":case"webComponent":o=!0}return n.state={uniqueId:"ID"+ct++,hasDetails:o},n.triggerValueChange=n.triggerValueChange.bind(n),n.onInputChange=n.onInputChange.bind(n),n.onTextareaChange=n.onTextareaChange.bind(n),n.onCheckboxChange=n.onCheckboxChange.bind(n),n.onSelectValueChange=n.onSelectValueChange.bind(n),n.toggleItemDetails=n.toggleItemDetails.bind(n),n}return at(t,e),t.prototype.triggerValueChange=function(e){this.props.valueChange(this.props.definition,e)},t.prototype.renderArray=function(){return a.createElement(be,{definition:this.props.definition,value:this.props.value,valueChange:this.triggerValueChange})},t.prototype.renderObject=function(){return a.createElement(ht,{fields:this.props.definition.fields,value:this.props.value,valueChange:this.triggerValueChange})},t.prototype.onTextareaChange=function(e){this.triggerValueChange(e.currentTarget.value)},t.prototype.onInputChange=function(e){this.triggerValueChange(e.currentTarget.value)},t.prototype.onSelectValueChange=function(e){this.triggerValueChange(e.currentTarget.value)},t.prototype.onCheckboxChange=function(e){this.triggerValueChange(e.currentTarget.checked)},t.prototype.renderDropDown=function(){var e=(this.props.definition.values||[]).map(function(e,t){return a.createElement("option",{key:t,value:e.value},e.text)});return a.createElement("select",{id:this.state.uniqueId,value:this.props.value,onChange:this.onSelectValueChange},e)},t.prototype.renderTextInput=function(){return void 0!==this.props.definition.textRows&&this.props.definition.textRows>1?a.createElement("textarea",{id:this.state.uniqueId,value:this.props.value,onChange:this.onTextareaChange,rows:this.props.definition.textRows}):a.createElement("input",{type:"text",id:this.state.uniqueId,value:this.props.value,onChange:this.onInputChange})},t.prototype.renderNumberInput=function(){var e="number";return void 0!==this.props.definition.minValue&&void 0!==this.props.definition.maxValue&&(e="range"),a.createElement("input",{type:e,id:this.state.uniqueId,value:this.props.value,onChange:this.onInputChange,step:this.props.definition.stepSize,min:this.props.definition.minValue,max:this.props.definition.maxValue})},t.prototype.renderBooleanInput=function(){return a.createElement("input",{type:"checkbox",id:this.state.uniqueId,value:this.props.value,onChange:this.onCheckboxChange})},t.prototype.renderStyleInput=function(){return a.createElement(_e,{value:this.props.value,onChange:this.triggerValueChange})},t.prototype.renderWebComponentInput=function(){return a.createElement(st,{webComponentId:this.props.value,onChange:this.triggerValueChange})},t.prototype.toggleItemDetails=function(){this.setState(function(e){return{detailsVisible:!e.detailsVisible}})},t.prototype.renderItemHeader=function(){var e=null,t=null;this.props.definition.isArray?(e="("+(this.props.value||[]).length+" items)",t=S.faList):"string"===this.props.definition.valueType?e=this.props.value:"style"===this.props.definition.valueType?("{}"===(e=JSON.stringify(this.props.value))&&(e=""),t=$.faCss3):"webComponent"===this.props.definition.valueType&&(e=this.props.value||"Component",t=fe.faFile);return a.createElement(J,{className:"item-header",onClick:this.toggleItemDetails},a.createElement("label",null,this.props.children,t&&a.createElement(J,null,a.createElement(P.FontAwesomeIcon,{icon:t})),a.createElement("span",{className:"header-text"},this.props.definition.displayName)),a.createElement("span",{className:"sub-header-text"},e),a.createElement(J,null,a.createElement(P.FontAwesomeIcon,{icon:this.state.detailsVisible?S.faCaretDown:S.faCaretRight})))},t.prototype.renderLabel=function(){return this.state.hasDetails?this.renderItemHeader():a.createElement("label",{htmlFor:this.state.uniqueId},this.props.children,a.createElement("span",{className:"header-text"},this.props.definition.displayName))},t.prototype.renderInput=function(){return this.state.hasDetails?a.createElement("div",{className:"item-details",hidden:!this.state.detailsVisible,"data-isarray":this.props.definition.isArray?"true":"false"},this.renderInputControl()):this.renderInputControl()},t.prototype.renderInputControl=function(){if(this.props.definition.isArray)return this.renderArray();if(this.props.definition.values&&this.props.definition.values.length)return this.renderDropDown();switch(this.props.definition.valueType){case"number":return this.renderNumberInput();case"boolean":return this.renderBooleanInput();case"string":return this.renderTextInput();case"object":return this.renderObject();case"style":return this.renderStyleInput();case"webComponent":return this.renderWebComponentInput()}return null},t.prototype.render=function(){return a.createElement("div",{className:"OptionItem","data-hasdetails":this.state.hasDetails?"true":"false","data-detailsvisible":this.state.detailsVisible?"true":"false","data-valuetype":this.props.definition.valueType},this.renderLabel(),this.renderInput())},t}(a.Component),ut=(n(188),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),pt=function(){return(pt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ht=function(e){function t(t){var n=e.call(this,t)||this;return n.valueChange=n.valueChange.bind(n),n}return ut(t,e),t.prototype.valueChange=function(e,t){var n=pt({},this.props.value);n[e.name]=t,this.props.valueChange(n)},t.prototype.render=function(){var e=this;return this.props.fields&&this.props.fields.length?a.createElement("div",{className:"OptionList"},this.props.fields.map(function(t){var n=e.props.value&&e.props.value[t.name];return a.createElement(lt,{key:t.name,definition:t,value:n,valueChange:e.valueChange})})):null},t}(a.Component),ft=(n(190),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),dt=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},mt=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},yt=function(e){function t(t){var n=e.call(this,t)||this,o=n.setDefaultValues(t.options||{});return n.state={newOptions:o,formContext:new nt},n.cancel=n.cancel.bind(n),n.save=n.save.bind(n),n.reset=n.reset.bind(n),n.optionsChange=n.optionsChange.bind(n),n}return ft(t,e),t.prototype.setDefaultValues=function(e){return this.props.fields.forEach(function(t){var n=e[t.name];void 0===n&&void 0!==(n=de(t))&&(e[t.name]=n)}),e},t.prototype.reset=function(){var e=this.setDefaultValues(this.props.options||{});this.setState({newOptions:e})},t.prototype.save=function(){return dt(this,void 0,void 0,function(){return mt(this,function(e){switch(e.label){case 0:return[4,this.state.formContext.onSave.publish()];case 1:return e.sent(),[2,this.props.onSave(this.state.newOptions)]}})})},t.prototype.cancel=function(){return this.props.onCancel&&this.props.onCancel()},t.prototype.optionsChange=function(e){this.setState({newOptions:e})},t.prototype.renderTitle=function(){return a.createElement(V,null,a.createElement(P.FontAwesomeIcon,{icon:this.props.icon})," ",this.props.title)},t.prototype.renderContent=function(){return a.createElement(ot.Provider,{value:this.state.formContext},a.createElement(ht,{fields:this.props.fields,value:this.state.newOptions,valueChange:this.optionsChange}))},t.prototype.renderFooter=function(){return a.createElement(te,{divider:"half"},this.props.onCancel&&a.createElement(J,{onClick:this.cancel},a.createElement(P.FontAwesomeIcon,{icon:S.faTimes})," Cancel"),this.props.showReset&&a.createElement(J,{onClick:this.reset},a.createElement(P.FontAwesomeIcon,{icon:S.faUndo})," Reset"),a.createElement(J,{onClick:this.save},a.createElement(P.FontAwesomeIcon,{icon:S.faSave})," Save"))},t.prototype.render=function(){var e="OptionCard "+this.props.className;return a.createElement(F,{className:e},this.renderTitle(),this.renderContent(),a.createElement(L,{className:"debug",style:{whiteSpace:"pre"}},JSON.stringify(this.state.newOptions,void 0,2)),this.renderFooter())},t}(a.Component),vt=(n(192),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),gt=function(e){function t(t){var n=e.call(this,t)||this;return n.onEdit=n.onEdit.bind(n),n.onDelete=n.onDelete.bind(n),n}return vt(t,e),t.prototype.onEdit=function(){return this.props.onEdit(this.props.page)},t.prototype.onDelete=function(){return this.props.onDelete(this.props.page)},t.prototype.renderTitle=function(){return a.createElement(V,null,a.createElement(P.FontAwesomeIcon,{icon:fe.faFile})," ",this.props.page.title," (",this.props.page.path,")")},t.prototype.renderPath=function(){return a.createElement(L,{className:"path"},this.props.page.path)},t.prototype.renderFooter=function(){return a.createElement(te,{divider:"half"},a.createElement(J,{onClick:this.onEdit},a.createElement(P.FontAwesomeIcon,{icon:fe.faEdit})," Edit"),a.createElement(J,{onClick:this.onDelete},a.createElement(P.FontAwesomeIcon,{icon:fe.faTrashAlt})," Delete"))},t.prototype.render=function(){return a.createElement(F,{className:"PageCard"},this.renderTitle(),this.renderFooter())},t}(a.Component),bt=[{description:"Path",defaultValue:"/",displayName:"Path",name:"path",valueType:"string"},{description:"Title",defaultValue:"New Page",displayName:"Title",name:"title",valueType:"string"},{description:"Content",displayName:"Content",name:"webComponentId",valueType:"webComponent"},{description:"Style",displayName:"Style",name:"style",valueType:"style"}],wt=(n(194),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Ct=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!0,pages:[],showPageDetailsDialog:!1},n.loadPages=n.loadPages.bind(n),n.savePage=n.savePage.bind(n),n.hidePageDetailsDialog=n.hidePageDetailsDialog.bind(n),n.showPageDetailsDialog=n.showPageDetailsDialog.bind(n),n.confirmPageDeletion=n.confirmPageDeletion.bind(n),n}return wt(t,e),t.prototype.componentDidMount=function(){this.loadPages()},t.prototype.loadPages=function(){var e=this;return this.setState({loading:!0}),O.getWebPages().then(function(t){return e.setState({pages:t,loading:!1})}).catch(function(t){return e.setState({loading:!1})})},t.prototype.savePage=function(e){return O.setWebPage(void 0,e).then(this.hidePageDetailsDialog).then(O.getWebPages.clearCache).then(this.loadPages).catch(function(e){return console.log(e)})},t.prototype.deletePage=function(e){return O.deleteWebPage(e).then(this.hidePageDetailsDialog).then(O.getWebPages.clearCache).then(this.loadPages).catch(function(e){return console.log(e)})},t.prototype.showPageDetailsDialog=function(e){this.setState({showPageDetailsDialog:!0,selectedPage:e})},t.prototype.hidePageDetailsDialog=function(){this.setState({showPageDetailsDialog:!1,selectedPage:void 0})},t.prototype.confirmPageDeletion=function(e){window.confirm("Delete?")&&this.deletePage(e)},t.prototype.renderPageCards=function(){var e=this;return this.state.loading?a.createElement(W,null,a.createElement(G,null)):a.createElement(W,null,this.state.pages.map(function(t,n){return a.createElement(gt,{key:n,page:t,onEdit:e.showPageDetailsDialog,onDelete:e.confirmPageDeletion})}))},t.prototype.renderPageAddCard=function(){return a.createElement(W,null,a.createElement(F,{className:"AddPageCard"},a.createElement(J,{className:"addButton",onClick:this.showPageDetailsDialog},a.createElement(P.FontAwesomeIcon,{icon:S.faPlus})," Add Page")))},t.prototype.renderPageDetailsDialog=function(){if(!this.state.showPageDetailsDialog)return null;var e=this.state.selectedPage,t=e?"Edit Page":"Add Page";return a.createElement(q,null,a.createElement(yt,{icon:fe.faFile,title:t,fields:bt,onSave:this.savePage,onCancel:this.hidePageDetailsDialog,options:e||{}}))},t.prototype.render=function(){return a.createElement("section",{className:"PageManagerPage"},this.renderPageAddCard(),this.renderPageCards(),this.renderPageDetailsDialog())},t}(a.Component),Et=(n(196),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),_t=function(e){function t(t){var n=e.call(this,t)||this;return n.showOptions=n.showOptions.bind(n),n.showLog=n.showLog.bind(n),n}return Et(t,e),t.prototype.showOptions=function(){return this.props.onShowOptions(this.props.service)},t.prototype.showLog=function(){return this.props.onShowLog(this.props.service)},t.prototype.renderTitle=function(){return a.createElement(V,null,a.createElement(P.FontAwesomeIcon,{icon:S.faCogs})," ",this.props.service.name)},t.prototype.renderDescription=function(){return a.createElement(L,{className:"description"},this.props.service.description||"no description")},t.prototype.renderFooter=function(){return a.createElement(te,{divider:"half"},a.createElement(J,{onClick:this.showLog},a.createElement(P.FontAwesomeIcon,{icon:fe.faFile})," Log"),a.createElement(J,{onClick:this.showOptions},a.createElement(P.FontAwesomeIcon,{icon:S.faCog})," Options"))},t.prototype.render=function(){return a.createElement(F,{className:"ServiceCard"},this.renderTitle(),this.renderDescription(),this.renderFooter())},t}(a.Component),Ot=(n(198),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),St=function(e){function t(t){var n=e.call(this,t)||this;return n.state={groupOpen:!1},n.toggleGroup=n.toggleGroup.bind(n),n}return Ot(t,e),t.prototype.toggleGroup=function(){this.setState(function(e){return{groupOpen:!e.groupOpen}})},t.prototype.render=function(){var e=this;return a.createElement("section",{className:"ServiceGroup"},a.createElement(J,{className:"group-header",onClick:this.toggleGroup},a.createElement(P.FontAwesomeIcon,{icon:S.faCube})," ",this.props.moduleName," (",this.props.services.length,")",a.createElement(P.FontAwesomeIcon,{icon:this.state.groupOpen?S.faArrowDown:S.faArrowRight})),this.state.groupOpen&&a.createElement(W,null,this.props.services.map(function(t){return a.createElement(_t,{key:t.name,service:t,onShowLog:e.props.onShowServiceLog,onShowOptions:e.props.onShowServiceOptions})})))},t}(a.Component),Pt=(n(200),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),At=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loadingServices:!0,loadingServiceOptions:!1,services:[],showOptions:!1,showLog:!1,selectedService:void 0,selectedServiceOptions:void 0},n.showLog=n.showLog.bind(n),n.closeLog=n.closeLog.bind(n),n.showOptions=n.showOptions.bind(n),n.closeOptions=n.closeOptions.bind(n),n.loadOptions=n.loadOptions.bind(n),n.saveOptions=n.saveOptions.bind(n),n.optionsChange=n.optionsChange.bind(n),n}return Pt(t,e),t.prototype.componentDidMount=function(){this.loadServices()},t.prototype.loadServices=function(){var e=this;return O.getAllServices().then(function(t){return e.setState({services:t,loadingServices:!1})}).catch(function(t){return e.setState({loadingServices:!1})})},t.prototype.showLog=function(e){this.setState({showLog:!0,selectedService:e})},t.prototype.showOptions=function(e){this.setState({showOptions:!0,selectedService:e,selectedServiceOptions:void 0},this.loadOptions)},t.prototype.closeOptions=function(){this.setState({showOptions:!1,selectedService:void 0})},t.prototype.closeLog=function(){this.setState({showLog:!1,selectedService:void 0})},t.prototype.loadOptions=function(){var e=this;this.state.selectedService&&(this.setState({loadingServiceOptions:!0}),O.getServiceOptions({moduleName:this.state.selectedService.moduleName,serviceName:this.state.selectedService.name}).then(function(t){e.setState({selectedServiceOptions:t,loadingServiceOptions:!1})}))},t.prototype.optionsChange=function(e){this.setState({selectedServiceOptions:e})},t.prototype.saveOptions=function(){this.state.selectedService&&(O.setServiceOptions({moduleName:this.state.selectedService.moduleName,serviceName:this.state.selectedService.name},this.state.selectedServiceOptions),this.closeOptions())},t.prototype.renderServiceOptionsDialog=function(){if(!this.state.showOptions||!this.state.selectedService)return null;if(this.state.loadingServiceOptions)return a.createElement(q,null,a.createElement(G,null));var e="Options for "+this.state.selectedService.displayName;return a.createElement(q,null,a.createElement(yt,{icon:S.faCogs,showReset:!0,title:e,fields:this.state.selectedService.fields||[],options:this.state.selectedServiceOptions,onSave:this.saveOptions,onCancel:this.closeOptions}))},t.prototype.renderServiceLogDialog=function(){return this.state.showLog&&this.state.selectedService?a.createElement(q,null,a.createElement(F,{className:"ServiceLogCard"},a.createElement(V,null,a.createElement(P.FontAwesomeIcon,{icon:fe.faFile})," Log for ",this.state.selectedService.displayName),a.createElement(L,null,a.createElement("ul",null,this.state.selectedService.log.map(function(e){return a.createElement("li",null,e)}))),a.createElement(te,{divider:"full"},a.createElement(J,{onClick:this.closeLog},a.createElement(P.FontAwesomeIcon,{icon:S.faTimes})," Close")))):null},t.prototype.renderServiceGroups=function(){var e=this;return this.state.loadingServices?a.createElement(j,{center:!0}):this.state.services.map(function(e){return e.moduleName}).filter(Nt).map(function(t){var n=e.state.services.filter(function(e){return e.moduleName===t});return a.createElement(St,{key:t,moduleName:t,services:n,onShowServiceLog:e.showLog,onShowServiceOptions:e.showOptions})})},t.prototype.render=function(){return a.createElement("section",{className:"ServiceManagerPage"},this.renderServiceGroups(),this.renderServiceOptionsDialog(),this.renderServiceLogDialog())},t}(a.Component);function Nt(e,t,n){return n.indexOf(e)===t}var kt=[{description:"Language",displayName:"Language",name:"lang",valueType:"string",values:[{value:"de-DE",text:"German"},{value:"en-GB",text:"English"},{value:"fr-FR",text:"French"}]},{description:"Location",displayName:"Location",name:"location",valueType:"string"},{description:"Timezone",displayName:"Timezone",name:"timezone",valueType:"string",values:[{value:"Europe/Berlin",text:"Europe/Berlin"},{value:"Europe/London",text:"Europe/London"},{value:"Asia/Tokyo",text:"Asia/Tokyo"},{value:"America/New_York",text:"America/New York"}]},{description:"Path of page to show on startup",displayName:"Startup Path",name:"startupPath",valueType:"string"}],It=(n(202),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Dt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!0},n.loadSettings=n.loadSettings.bind(n),n.saveSettings=n.saveSettings.bind(n),n}return It(t,e),t.prototype.componentDidMount=function(){this.loadSettings()},t.prototype.loadSettings=function(){var e=this;return O.getSettings().then(function(t){return e.setState({settings:t,loading:!1})}).catch()},t.prototype.saveSettings=function(e){return O.setSettings(void 0,e).then(O.getSettings.clearCache).catch()},t.prototype.render=function(){return a.createElement("section",{className:"SettingsManagerPage"},this.state.loading&&a.createElement(W,null,a.createElement(G,null)),this.state.settings&&a.createElement(W,null,a.createElement(yt,{options:this.state.settings,onSave:this.saveSettings,fields:kt,icon:S.faCogs,title:"Settings",showReset:!0})))},t}(a.Component),xt=(n(204),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),jt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n.exitApplication=n.exitApplication.bind(n),n.restartApplication=n.restartApplication.bind(n),n.shutdownSystem=n.shutdownSystem.bind(n),n.rebootSystem=n.rebootSystem.bind(n),n.resetApplication=n.resetApplication.bind(n),n}return xt(t,e),t.prototype.componentDidMount=function(){var e=this;O.getServerInfo().then(function(t){return e.setState({info:t})})},t.prototype.exitApplication=function(){return O.exitApplication()},t.prototype.restartApplication=function(){return O.restartApplication()},t.prototype.shutdownSystem=function(){return O.shutdownSystem()},t.prototype.rebootSystem=function(){return O.rebootSystem()},t.prototype.resetApplication=function(){return O.resetApplication()},t.prototype.renderInformationCard=function(){var e;if(this.state.info){var t=Math.round(this.state.info.memory.free/1024/1024),n=Math.round(this.state.info.memory.total/1024/1024);e=a.createElement("ul",null,a.createElement("li",null,a.createElement("span",null,"Version"),a.createElement("span",null,this.state.info.version)),a.createElement("li",null,a.createElement("span",null,"CPU"),a.createElement("span",null,this.state.info.cpu.count," x ",this.state.info.cpu.speed," MHz")),a.createElement("li",null,a.createElement("span",null,"Memory"),a.createElement("span",null,t," MB / ",n," MB")),a.createElement("li",null,a.createElement("span",null,"IP"),a.createElement("span",null,this.state.info.ip)),a.createElement("li",null,a.createElement("span",null,"Hostname"),a.createElement("span",null,this.state.info.hostname)))}else e=a.createElement(j,null);return a.createElement(F,{className:"information"},a.createElement(V,null,"Information"),a.createElement(L,null,e))},t.prototype.renderApplicationCard=function(){return a.createElement(F,null,a.createElement(V,null,"Application"),a.createElement(te,{divider:"half"},a.createElement(J,{onClick:this.exitApplication},a.createElement(P.FontAwesomeIcon,{icon:S.faSignOutAlt})," Exit"),a.createElement(J,{onClick:this.restartApplication},a.createElement(P.FontAwesomeIcon,{icon:S.faRedo})," Restart")))},t.prototype.renderSystemCard=function(){return a.createElement(F,null,a.createElement(V,null,"System"),a.createElement(te,{divider:"half"},a.createElement(J,{onClick:this.shutdownSystem},a.createElement(P.FontAwesomeIcon,{icon:S.faPowerOff})," Shutdown"),a.createElement(J,{onClick:this.rebootSystem},a.createElement(P.FontAwesomeIcon,{icon:S.faRedo})," Reboot")))},t.prototype.renderDangerCard=function(){return a.createElement(F,{className:"danger"},a.createElement(V,null,"Danger Zone"),a.createElement(te,null,a.createElement(J,{onClick:this.resetApplication},a.createElement(P.FontAwesomeIcon,{icon:S.faExclamationTriangle})," Reset Application")))},t.prototype.render=function(){return a.createElement("section",{className:"SystemPage"},a.createElement(W,null,this.renderInformationCard(),this.renderApplicationCard(),this.renderSystemCard(),this.renderDangerCard()))},t}(a.Component),Mt=(n(206),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mt(t,e),t.prototype.render=function(){return a.createElement("section",{className:"Admin"},a.createElement("header",null,a.createElement(I,{to:"/"},a.createElement(P.FontAwesomeIcon,{icon:S.faHome})," Home"),a.createElement("div",{className:"title"},"Reactron Admin")),a.createElement(he,null),a.createElement("div",{className:"content"},a.createElement(p.a,null,a.createElement(h.a,{path:"/admin/ModuleManager",component:le}),a.createElement(h.a,{path:"/admin/ServiceManager",component:At}),a.createElement(h.a,{path:"/admin/Pages",component:Ct}),a.createElement(h.a,{path:"/admin/Settings",component:Dt}),a.createElement(h.a,{path:"/admin/System",component:jt}),a.createElement(A.a,{to:"/admin/ModuleManager"}))))},t}(a.Component),Tt=(n(208),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tt(t,e),t.prototype.render=function(){return a.createElement("div",{className:"PageNotFound"},a.createElement("h1",null,a.createElement(P.FontAwesomeIcon,{icon:S.faQuestionCircle})," 404"),a.createElement("h2",null,"No page defined for path: ",this.props.location.pathname),a.createElement(I,{to:"/admin"},a.createElement(P.FontAwesomeIcon,{icon:S.faCog})," Admin"),a.createElement(I,{to:"/"},a.createElement(P.FontAwesomeIcon,{icon:S.faHome})," Home"))},t}(a.Component),Rt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Lt=function(){return(Lt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ut=function(e){function t(t,n){var o=e.call(this,t)||this;return o.componentName=n,o.renderComponent=function(e){return c.a.createElement(Yt,Lt({},e))},o.renderLoading=function(e,t){return c.a.createElement(j,{text:e,iconSize:t})},o}return Rt(t,e),t}(y),Vt=c.a.createContext(new Ut("","")),Bt=(n(210),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bt(t,e),t.prototype.render=function(){var e=[];return this.props.id&&e.push("Id: "+this.props.id),this.props.componentName&&e.push("Component: "+this.props.componentName),this.props.moduleName&&e.push("Module: "+this.props.moduleName),a.createElement("section",{className:"ComponentNotFound"},a.createElement(P.FontAwesomeIcon,{icon:S.faExclamationTriangle,size:this.props.iconSize}),a.createElement("div",{className:"text"},"Component not found: ",e.join(" | ")),a.createElement(I,{to:"/admin"},a.createElement(P.FontAwesomeIcon,{icon:S.faCog})," Admin"))},t.defaultProps={iconSize:"4x"},t}(a.Component),zt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ht=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:null},n}return zt(t,e),t.prototype.componentDidCatch=function(e,t){console.log(e),console.log(t),this.setState({error:e})},t.prototype.render=function(){return this.state.error?a.createElement("h1",null,"Something went wrong."):this.props.children},t}(a.Component),qt=(n(212),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Kt=function(){return(Kt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Jt=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},Qt=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Yt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return qt(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.id===e.id&&this.props.moduleName===e.moduleName&&this.props.componentName===e.componentName&&this.props.options===e.options||this.loadComponent()},t.prototype.componentDidMount=function(){this.loadComponent()},t.prototype.loadComponent=function(){return Jt(this,void 0,void 0,function(){var e,t,n,o,r,i,s=this;return Qt(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),e=void 0,this.props.id?[4,O.getWebComponentOptions()]:[3,2];case 1:return t=a.sent(),e=t.find(function(e){return e.id===s.props.id}),[3,3];case 2:this.props.moduleName&&this.props.componentName&&(e={id:"",moduleName:this.props.moduleName,componentName:this.props.componentName,options:this.props.options}),a.label=3;case 3:return e?[4,Ye.getModuleComponents(e.moduleName)]:(this.setState({componentFound:!1}),[2]);case 4:return(n=a.sent())?(o=e.componentName,(r=n.find(function(e){return e.name===o}))&&r.component?(this.setState({componentContext:new Ut(e.moduleName,e.componentName),componentDefinition:r,componentOptions:e,componentFound:!0}),[3,6]):(this.setState({componentFound:!1}),[2])):(this.setState({componentFound:!1}),[2]);case 5:return i=a.sent(),console.log(i),this.setState({componentFound:!1}),[3,6];case 6:return[2]}})})},t.prototype.render=function(){var e=a.createElement(j,{center:!0});if(!1===this.state.componentFound&&(e=a.createElement(Gt,Kt({},this.props))),this.state.componentDefinition&&this.state.componentDefinition.component&&this.state.componentContext){var t=this.state.componentDefinition.component;t.contextType||(t.contextType=Vt);var n=this.state.componentOptions&&this.state.componentOptions.options||{};e=a.createElement(Vt.Provider,{value:this.state.componentContext},a.createElement(t,Kt({},n)))}return a.createElement("section",{className:"WebComponent"},a.createElement(Ht,null,e))},t}(a.Component),Zt=(n(214),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Xt=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},$t=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},en=function(e){function t(t){var n=e.call(this,t)||this;return n.reloadWait=2e3,n.state={},n.reload=n.reload.bind(n),n.triggerReload=n.triggerReload.bind(n),n}return Zt(t,e),t.prototype.componentDidMount=function(){this.loadPages(),v.topics&&(v.topics.subscribe("pages-updated",this.triggerReload),v.topics.subscribe("components-updated",this.triggerReload),v.topics.subscribe("system-settings-updated",this.triggerReload))},t.prototype.loadPages=function(){return Xt(this,void 0,void 0,function(){var e;return $t(this,function(t){switch(t.label){case 0:return[4,O.getWebPages()];case 1:return e=t.sent(),[2,this.setState({pages:e})]}})})},t.prototype.triggerReload=function(){console.log("triggerReload",arguments),window.clearTimeout(this.reloadTimer),this.reloadTimer=window.setTimeout(this.reload,this.reloadWait)},t.prototype.reload=function(){O.getWebPages.clearCache(),O.getWebComponentOptions.clearCache(),this.loadPages()},t.prototype.renderPage=function(e,t){return function(){return a.createElement("section",{className:"WebPage",style:t},a.createElement(Yt,{id:e}))}},t.prototype.render=function(){var e=this,t=a.createElement(j,{text:"Loading Reactron...",center:!0});return this.state.pages&&(t=a.createElement(u.a,null,a.createElement(p.a,null,a.createElement(h.a,{path:"/admin",component:Wt}),this.state.pages.map(function(t){return a.createElement(h.a,{key:t.path,path:t.path,exact:!0,component:e.renderPage(t.webComponentId,t.style)})}),a.createElement(h.a,{component:Ft})))),a.createElement("section",{className:"App"},t)},t}(a.Component);n(216);l.render(a.createElement(Ht,null,a.createElement(en,null)),document.getElementById("root"))},39:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},40:function(e,t,n){e.exports=n(218)},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){},91:function(e,t,n){},93:function(e,t,n){}},[[40,2,1]]]);
//# sourceMappingURL=main.14f01d4b.chunk.js.map