(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,n){},178:function(e,t,n){},180:function(e,t,n){},183:function(e,t,n){},185:function(e,t,n){},189:function(e,t,n){},191:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var o,a,r,i,s,c=n(0),u=n.n(c),l=n(21),p=n(7),m=n.n(p),d=n(12),h=n(2),f=n(3),b=n(6),v=n(4),y=n(5),g=n(13),w=n(16),O=n(19),j=n.n(O),N=n(23),k=n.n(N),S=n(33),C=n(36),x=n(29),E=function e(t,n){Object(h.a)(this,e),this.path=t,this.method=n},T={getServices:new E("/service/","get"),getServiceOptions:new E("/service/:moduleName/:serviceName","get"),setServiceOptions:new E("/service/:moduleName/:serviceName","post"),getModules:new E("/modules/","get"),addModule:new E("/modules/","post"),deleteModule:new E("/modules/:moduleName","delete"),rebuildModule:new E("/modules/:moduleName/rebuild","post"),updateModule:new E("/modules/:moduleName/update","post"),checkUpdates:new E("/modules/checkUpdates/update","get"),getWebPages:new E("/pages/","get"),setWebPage:new E("/pages/","post"),deleteWebPage:new E("/pages/:id","delete"),getServerInfo:new E("/app/","get"),exitApplication:new E("/app/exitApplication","post"),restartApplication:new E("/app/restartApplication","post"),shutdownSystem:new E("/app/shutdownSystem","post"),rebootSystem:new E("/app/restartSystem","post"),resetApplication:new E("/app/resetApplication","post"),getSettings:new E("/settings/","get"),setSettings:new E("/settings/","post"),getWebComponentOptions:new E("/components/","get"),setWebComponentOptions:new E("/components/","post"),deleteWebComponentOptions:new E("/components/:id","delete"),getLogEntries:new E("/log/:source","get")},L=function(){function e(){Object(h.a)(this,e),this.getAllServices=A(T.getServices,!0),this.getServiceOptions=A(T.getServiceOptions),this.setServiceOptions=A(T.setServiceOptions),this.getModules=A(T.getModules,!0),this.addModule=A(T.addModule),this.checkUpdates=A(T.checkUpdates),this.deleteModule=A(T.deleteModule),this.rebuildModule=A(T.rebuildModule),this.updateModule=A(T.updateModule),this.getWebPages=A(T.getWebPages,!0),this.setWebPage=A(T.setWebPage),this.deleteWebPage=A(T.deleteWebPage),this.getServerInfo=A(T.getServerInfo),this.exitApplication=A(T.exitApplication),this.restartApplication=A(T.restartApplication),this.shutdownSystem=A(T.shutdownSystem),this.rebootSystem=A(T.rebootSystem),this.resetApplication=A(T.resetApplication),this.getSettings=A(T.getSettings,!0),this.setSettings=A(T.setSettings),this.getWebComponentOptions=A(T.getWebComponentOptions,!0),this.setWebComponentOptions=A(T.setWebComponentOptions),this.deleteWebComponentOptions=A(T.deleteWebComponentOptions),this.getLogEntries=A(T.getLogEntries)}return Object(f.a)(e,[{key:"clearCache",value:function(){var e=this;Object.keys(this).forEach(function(t){e[t]&&e[t].clearCache&&e[t].clearCache()})}}]),e}(),A=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.method.toLocaleLowerCase(),a=function(a,r){if(n&&t)return Promise.resolve(t);var i=e.path;return a&&Object.keys(a).forEach(function(e){i=i.replace(":"+e,a[e])}),fetch(D.instance.moduleApiPath+i,{method:o,body:r&&JSON.stringify(r),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(){var e=Object(d.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(n=e.sent,!t.status.toString().startsWith("2")){e.next=7;break}if(n){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.abrupt("return",JSON.parse(n));case 7:throw console.log(n),Error(n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).then(function(e){return n&&(t=e),e})};return a.clearCache=function(){t=void 0},a},M=new L,W={},I={},P=function(){var e=Object(d.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=4;break}return e.next=3,M.getSettings();case 3:s=e.sent;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!o&&window.require&&(o=window.require("electron"),a=o.remote.require("./dist/server/BackendService").BackendService.instance,r=a.topics,i=o.remote.require("electron-store"),r.subscribe(w.topicNames.systemSettingsUpdated,function(e,t){s=t}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),F=function(){function e(t){var n=this;Object(h.a)(this,e),this.moduleName=t,this.electron=void 0,this.backendService=void 0,this.topics=void 0,this.moduleStorage=void 0,this.moduleApiPath=void 0,this.getService=void 0,this.electron=o,this.backendService=a,this.topics=r;var s="module."+t;i&&!W[s]&&(W[s]=new i({name:"module."+t})),this.moduleStorage=W[s];var c=t.replace("/","@");this.moduleApiPath="/api/modules/"+c,this.getService=function(e,o){if(n.backendService){var a=(o||t)+"."+e;return I[a]||(I[a]=n.backendService.serviceManager.get(o||t,e)),I[a]}console.log("Method getService() is not supported in browser environment.")}}return Object(f.a)(e,[{key:"settings",get:function(){return s}}]),e}(),z={init:function(){var e=Object(d.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return z.instance=new F("reactron"),e.next=5,P();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),instance:void 0},D=z,R=n(14),U=n(15),G=n(24),K=n.n(G),q=(n(75),function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return c.createElement("section",{className:K()("Loading",{center:this.props.center})},c.createElement(U.FontAwesomeIcon,{icon:R.faSpinner,size:this.props.iconSize,spin:!0}),this.props.text&&c.createElement("div",{className:"text"},this.props.text))}}]),t}(c.Component));q.defaultProps={iconSize:"4x"};var B=n(27),J=(n(77),function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return c.createElement(B.a,{className:"RoundButton",to:this.props.to,role:"button"},this.props.children)}}]),t}(c.Component)),H=(n(79),function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return c.createElement("div",{className:"PageNotFound"},c.createElement("h1",null,c.createElement(U.FontAwesomeIcon,{icon:R.faQuestionCircle})," 404"),c.createElement("h2",null,"No page defined for path: ",this.props.location.pathname),c.createElement(J,{to:"/admin"},c.createElement(U.FontAwesomeIcon,{icon:R.faCog})," Admin"),c.createElement(J,{to:"/"},c.createElement(U.FontAwesomeIcon,{icon:R.faHome})," Home"))}}]),t}(c.Component)),Q=n(31),X=n(57),Y=n(58),Z=n(59),$=n.n(Z),_=n(32),ee=n(60),te=(n(87),n(89),{component:function(e){function t(){var e,n;Object(h.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).context=void 0,n}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return c.createElement("section",{className:"CarouselLayout",style:this.props.style},c.createElement(ee.Carousel,Object.assign({autoPlay:!0,infiniteLoop:!0,showThumbs:!1,showArrows:!1,showStatus:!1},this.props.options),this.props.items.map(function(t){return e.context.renderComponent({id:t})})))}}]),t}(c.Component),description:"Carousel Layout",displayName:"Carousel Layout",name:"CarouselLayout",type:"layout",fields:[{displayName:"Options",name:"options",valueType:"object",fields:[{displayName:"Interval in ms",name:"interval",valueType:"number",defaultValue:5e3,minValue:1e3,stepSize:50},{displayName:"Transition Time in ms",name:"transitionTime",valueType:"number",defaultValue:500,minValue:100,stepSize:50},{displayName:"Show Indicators",name:"showIndicators",valueType:"boolean",defaultValue:!0},{displayName:"Show Arrows",name:"showArrows",valueType:"boolean",defaultValue:!1},{displayName:"Show Status",name:"showStatus",valueType:"boolean",defaultValue:!1},{displayName:"Center Mode",name:"centerMode",valueType:"boolean",defaultValue:!1},{displayName:"Center Slide Percentage",name:"centerSlidePercentage",valueType:"number",defaultValue:70,minValue:1,maxValue:100,stepSize:1},{displayName:"Axis",name:"axis",valueType:"boolean",defaultValue:"horizontal",values:[{value:"horizontal",text:"horizontal"},{value:"vertical",text:"vertical"}]}],inputControl:function(e){var t=e.value&&e.value.interval;return c.createElement("span",null,"interval ",t," ms")}},{displayName:"Content",name:"items",valueType:"webComponent",isArray:!0},{displayName:"Carousel Style",name:"style",valueType:"style"}]}),ne=n(37),oe=(n(91),{component:function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(v.a)(t).call(this,e))).context=void 0,n.renderTile=n.renderTile.bind(Object(g.a)(Object(g.a)(n))),n}return Object(y.a)(t,e),Object(f.a)(t,[{key:"renderTile",value:function(e,t){var n=Object(ne.a)({},this.props.tileStyle,e.style);return n.gridColumn=e.col.toString(),e.colspan>1&&(n.gridColumn+=" / span "+e.colspan),n.gridRow=e.row.toString(),e.rowspan>1&&(n.gridRow+=" / span "+e.rowspan),c.createElement("div",{className:"GridTile",key:t,style:n},this.context.renderComponent({id:e.content}))}},{key:"render",value:function(){return c.createElement("section",{className:"GridLayout",style:this.props.gridStyle},this.props.tiles.map(this.renderTile))}}]),t}(c.Component),description:"Grid Layout",displayName:"Grid Layout",name:"GridLayout",type:"layout",fields:[{displayName:"Grid Style",name:"gridStyle",valueType:"style"},{displayName:"Tile Style",name:"tileStyle",valueType:"style"},{displayName:"Grid tiles",name:"tiles",valueType:"object",isArray:!0,fields:[{displayName:"Row",name:"row",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Column",name:"col",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Row span",name:"rowspan",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Column span",name:"colspan",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Content",name:"content",valueType:"webComponent"},{displayName:"Style",name:"style",valueType:"style"}],inputControl:function(e){var t=e.value||{};return c.createElement("div",{style:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"}},"[ ",t.row," | ",t.col," | ",t.content," ]")}}]}),ae=(n(93),{component:function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return c.createElement("iframe",{className:"ui-iframe",src:this.props.url})}}]),t}(c.Component),description:"IFrame Component",displayName:"IFrame",name:"IFrame",fields:[{displayName:"URL",name:"url",valueType:"string"}]}),re=(n(95),{component:function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(v.a)(t).call(this,e))).context=void 0,n.renderListItem=n.renderListItem.bind(Object(g.a)(Object(g.a)(n))),n}return Object(y.a)(t,e),Object(f.a)(t,[{key:"renderListItem",value:function(e,t){var n=Object(ne.a)({},this.props.itemStyle,e.style);return c.createElement("div",{className:"ListItem",key:t,style:n},this.context.renderComponent({id:e.content}))}},{key:"render",value:function(){return c.createElement("section",{className:"ListLayout"},this.props.items.map(this.renderListItem))}}]),t}(c.Component),description:"List Layout",displayName:"List Layout",name:"ListLayout",type:"layout",fields:[{displayName:"List Style",name:"listStyle",valueType:"style"},{displayName:"Item Style",name:"itemStyle",valueType:"style"},{displayName:"List items",name:"items",valueType:"object",isArray:!0,fields:[{displayName:"Content",name:"content",valueType:"webComponent"},{displayName:"Style",name:"style",valueType:"style"}],inputControl:function(e){var t=e.value||{};return c.createElement("div",{style:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"}},"[ ",t.content," ]")}}]}),ie=n(61),se=n.n(ie),ce=(n(176),{component:function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return c.createElement("section",{className:"MarkDown",style:this.props.style},c.createElement(se.a,{source:this.props.text}))}}]),t}(c.Component),description:"MarkDown Component",displayName:"MarkDown",name:"MarkDown",fields:[{displayName:"Text",name:"text",valueType:"string",textRows:10},{displayName:"Style",name:"style",valueType:"style"}]}),ue=(n(178),{component:function(e){function t(e){return Object(h.a)(this,t),Object(b.a)(this,Object(v.a)(t).call(this,e))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return c.createElement("section",{className:"Notifications"},"Notifications")}}]),t}(c.Component),description:"Notifications",displayName:"Notifications",name:"Notifications",fields:[]}),le=n(62),pe=n.n(le),me=(n(180),[re,te,oe,{component:function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={},n}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.getServerInfo().then(function(t){e.setState({info:t})})}},{key:"render",value:function(){var e;return this.state.info&&(e=c.createElement("div",{className:"info"},"To edit this page click Admin-Button or visit",c.createElement("br",null),c.createElement("br",null),c.createElement("i",null,"http://",this.state.info.ip,":3000/admin"))),c.createElement("section",{className:"Welcome"},c.createElement(J,{to:"/admin"},c.createElement(U.FontAwesomeIcon,{icon:R.faCog}),"Admin"),c.createElement("img",{src:pe.a,className:"logo",alt:"logo"}),c.createElement("div",{className:"title"},"Welcome to Reactron"),e)}}]),t}(c.Component),description:"Welcome Component",displayName:"Welcome",name:"Welcome",fields:[]},ce,ue,ae]),de=window.System,he={};he.react=c,he["react-dom"]=l,he["react-router-dom"]=_,he.numeral={default:k.a},he.moment={default:j.a},he["moment-timezone"]={default:$.a},he["@fortawesome/fontawesome-svg-core"]=Q,he["@fortawesome/free-solid-svg-icons"]=R,he["@fortawesome/free-regular-svg-icons"]=Y,he["@fortawesome/free-brands-svg-icons"]=X,he["@fortawesome/react-fontawesome"]=U,he["@schirkan/reactron-interfaces"]=w,window.require&&(he.electron=window.require("electron")),Object.keys(he).forEach(function(e){var t=he[e];de.register(e,[],function(e){return{execute:function(){return e(t)}}})});var fe=new(function(){function e(){Object(h.a)(this,e),this.allComponentsLoaded=!1,this.moduleComponents={reactron:me}}return Object(f.a)(e,[{key:"getModuleComponents",value:function(){var e=Object(d.a)(m.a.mark(function e(t){var n,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.moduleComponents[t]){e.next=10;break}return e.next=3,M.getModules();case 3:if(n=e.sent,o=n.find(function(e){return e.name===t})){e.next=8;break}return console.error("Module not found: "+t),e.abrupt("return");case 8:return e.next=10,this.registerModuleComponents(o);case 10:return e.abrupt("return",this.moduleComponents[t]);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"registerModuleComponents",value:function(){var e=Object(d.a)(m.a.mark(function e(t){var n,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.browserFile){e.next=3;break}return console.log("Module has no browserFile: "+t.name),e.abrupt("return");case 3:if(!this.moduleComponents[t.name]){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,console.log(t.browserFile),e.next=9,de.import("\\"+t.browserFile);case 9:n=e.sent,(o=n.components)&&"object"===typeof o&&Array.isArray(o)&&(this.moduleComponents[t.name]=o),console.log("Components loaded for module: "+t.name),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.error("Error loading components for module: "+t.name,e.t0);case 18:case"end":return e.stop()}},e,this,[[5,15]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getAllComponents",value:function(){var e=Object(d.a)(m.a.mark(function e(){var t,n,o,a,r,i,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.allComponentsLoaded){e.next=2;break}return e.abrupt("return",this.moduleComponents);case 2:return e.next=4,M.getModules();case 4:t=e.sent,n=!0,o=!1,a=void 0,e.prev=8,r=t[Symbol.iterator]();case 10:if(n=(i=r.next()).done){e.next=17;break}return s=i.value,e.next=14,this.registerModuleComponents(s);case 14:n=!0,e.next=10;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),o=!0,a=e.t0;case 23:e.prev=23,e.prev=24,n||null==r.return||r.return();case 26:if(e.prev=26,!o){e.next=29;break}throw a;case 29:return e.finish(26);case 30:return e.finish(23);case 31:return this.allComponentsLoaded=!0,e.abrupt("return",this.moduleComponents);case 33:case"end":return e.stop()}},e,this,[[8,19,23,31],[24,,26,30]])}));return function(){return e.apply(this,arguments)}}()}]),e}()),be=function(){function e(t,n){Object(h.a)(this,e),this.topics=t,this.source=n}return Object(f.a)(e,[{key:"log",value:function(e,t,n){this.topics&&this.topics.publish(w.topicNames.log,{source:this.source,severity:e,message:t,data:n})}},{key:"error",value:function(e,t){this.log("error",e,t)}},{key:"warning",value:function(e,t){this.log("warning",e,t)}},{key:"info",value:function(e,t){this.log("information",e,t)}},{key:"debug",value:function(e,t){this.log("debug",e,t)}}]),e}(),ve=function(e){function t(e,n){var o;return Object(h.a)(this,t),(o=Object(b.a)(this,Object(v.a)(t).call(this,e))).componentName=n,o.renderLoading=void 0,o.renderComponent=void 0,o.componentLoader=fe,o.log=void 0,o.renderComponent=function(e){var t=e.id+"."+e.moduleName+"."+e.componentName;return u.a.createElement(Oe,Object.assign({},e,{key:t}))},o.renderLoading=function(e,t){return u.a.createElement(q,{text:e,iconSize:t})},o.log=new be(o.backendService&&o.backendService.topics,e+"."+n),o}return Object(y.a)(t,e),t}(F),ye=u.a.createContext(new ve("","")),ge=(n(183),function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=[];return this.props.id&&e.push("Id: "+this.props.id),this.props.componentName&&e.push("Component: "+this.props.componentName),this.props.moduleName&&e.push("Module: "+this.props.moduleName),c.createElement("section",{className:"ComponentNotFound"},c.createElement(U.FontAwesomeIcon,{icon:R.faExclamationTriangle,size:this.props.iconSize}),c.createElement("div",{className:"text"},"Component not found: ",e.join(" | ")),c.createElement(J,{to:"/admin"},c.createElement(U.FontAwesomeIcon,{icon:R.faCog})," Admin"))}}]),t}(c.Component));ge.defaultProps={iconSize:"4x"};var we=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={error:null},n}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t),this.setState({error:e})}},{key:"render",value:function(){return this.state.error?c.createElement("span",{style:{color:"red"}},"Something went wrong."):this.props.children}}]),t}(c.Component),Oe=(n(185),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={},n}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.id===e.id&&this.props.moduleName===e.moduleName&&this.props.componentName===e.componentName&&this.props.options===e.options||this.loadComponent()}},{key:"componentDidMount",value:function(){this.loadComponent()}},{key:"loadComponent",value:function(){var e=Object(d.a)(m.a.mark(function e(){var t,n,o,a,r,i=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.props.id){e.next=8;break}return e.next=4,M.getWebComponentOptions();case 4:n=e.sent,t=n.find(function(e){return e.id===i.props.id}),e.next=9;break;case 8:this.props.moduleName&&this.props.componentName&&(t={id:"",parentId:"",moduleName:this.props.moduleName,componentName:this.props.componentName,options:this.props.options});case 9:if(t){e.next=12;break}return this.setState({componentFound:!1}),e.abrupt("return");case 12:return e.next=14,fe.getModuleComponents(t.moduleName);case 14:if(o=e.sent){e.next=18;break}return this.setState({componentFound:!1}),e.abrupt("return");case 18:if(a=t.componentName,(r=o.find(function(e){return e.name===a}))&&r.component){e.next=23;break}return this.setState({componentFound:!1}),e.abrupt("return");case 23:this.setState({componentContext:new ve(t.moduleName,t.componentName),componentDefinition:r,componentOptions:t,componentFound:!0}),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(0),console.log(e.t0),this.setState({componentFound:!1});case 30:case"end":return e.stop()}},e,this,[[0,26]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=c.createElement(q,{center:!0});if(!1===this.state.componentFound&&(e=c.createElement(ge,this.props)),this.state.componentDefinition&&this.state.componentDefinition.component&&this.state.componentContext){var t=this.state.componentDefinition.component;t.contextType||(t.contextType=ye);var n=this.state.componentOptions&&this.state.componentOptions.options||{};e=c.createElement(ye.Provider,{value:this.state.componentContext},c.createElement(t,n))}var o=K()("WebComponent",this.props.className);return c.createElement("section",{className:o,style:this.props.style},c.createElement(we,null,e))}}]),t}(c.Component)),je=(n(187),n(188),n(189),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(v.a)(t).call(this,e))).reloadTimer=void 0,n.reloadWait=2e3,n.state={},n.reload=n.reload.bind(Object(g.a)(Object(g.a)(n))),n.triggerReload=n.triggerReload.bind(Object(g.a)(Object(g.a)(n))),n.onKeyDown=n.onKeyDown.bind(Object(g.a)(Object(g.a)(n))),n}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:this.subscribeTopics(),document.addEventListener("keydown",this.onKeyDown);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeTopics(),document.removeEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function(e){var t=window.event?window.event:e;65===t.keyCode&&t.ctrlKey&&t.altKey&&(window.location.href="/admin")}},{key:"subscribeTopics",value:function(){D.instance.topics&&(D.instance.topics.subscribe(w.topicNames.pagesUpdated,this.triggerReload),D.instance.topics.subscribe(w.topicNames.componentsUpdated,this.triggerReload),D.instance.topics.subscribe(w.topicNames.systemSettingsUpdated,this.triggerReload))}},{key:"unsubscribeTopics",value:function(){D.instance.topics&&(D.instance.topics.unsubscribe(w.topicNames.pagesUpdated,this.triggerReload),D.instance.topics.unsubscribe(w.topicNames.componentsUpdated,this.triggerReload),D.instance.topics.unsubscribe(w.topicNames.systemSettingsUpdated,this.triggerReload))}},{key:"init",value:function(){var e=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.init();case 2:return j.a.locale(D.instance.settings.lang),k.a.locale(D.instance.settings.lang),e.next=6,M.getWebPages();case 6:return t=e.sent,e.abrupt("return",this.setState({pages:t}));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"triggerReload",value:function(){window.clearTimeout(this.reloadTimer),this.reloadTimer=window.setTimeout(this.reload,this.reloadWait)}},{key:"reload",value:function(){console.log("reload"),M.clearCache(),this.init()}},{key:"renderPage",value:function(e,t){return function(){return c.createElement("section",{className:"WebPage",style:t},c.createElement(Oe,{id:e}))}}},{key:"render",value:function(){var e=this,t=c.createElement(q,{text:"Loading Reactron...",center:!0});return this.state.pages&&(t=c.createElement(S.a,null,c.createElement(C.a,null,this.state.pages.map(function(t){return c.createElement(x.a,{key:t.path,path:t.path,exact:"/"===t.path,component:e.renderPage(t.webComponentId,t.style)})}),c.createElement(x.a,{component:H})))),c.createElement("section",{className:"App"},t)}}]),t}(c.Component));n(191);l.render(c.createElement(we,null,c.createElement(je,null)),document.getElementById("root"))},62:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},64:function(e,t,n){e.exports=n(193)},75:function(e,t,n){},77:function(e,t,n){},79:function(e,t,n){},89:function(e,t,n){},91:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){}},[[64,2,1]]]);
//# sourceMappingURL=main.50de01a3.chunk.js.map