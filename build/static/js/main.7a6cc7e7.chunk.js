(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,n){},175:function(e,t,n){},177:function(e,t,n){},179:function(e,t,n){},181:function(e,t,n){},183:function(e,t,n){},185:function(e,t,n){},187:function(e,t,n){},189:function(e,t,n){},191:function(e,t,n){},193:function(e,t,n){},195:function(e,t,n){},197:function(e,t,n){},199:function(e,t,n){},201:function(e,t,n){},203:function(e,t,n){},205:function(e,t,n){},207:function(e,t,n){},209:function(e,t,n){},211:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var o,r=n(0),i=n(16),s=n(216),a=n(218),c=n(214),l=function(){return function(e){var t=this;if(this.moduleName=e,window.require){this.electron=window.require("electron"),this.backendService=this.electron.remote.require("./dist/server/BackendService").BackendService.instance,this.topics=this.backendService.topics;var n=this.electron.remote.require("electron-store");this.moduleStorage=new n({name:"module."+e})}this.moduleApiPath="/api/modules/"+e,this.getService=function(e,n){return t.backendService?t.backendService.serviceManager.get(n||t.moduleName,e):Promise.reject("Method getService is not supported in browser environment.")}}}(),u=new l("reactron"),p=function(){return function(e,t){this.path=e,this.method=t}}(),h={getServices:new p("/service/","get"),getServiceOptions:new p("/service/:moduleName/:serviceName","get"),setServiceOptions:new p("/service/:moduleName/:serviceName","post"),getModules:new p("/modules/","get"),addModule:new p("/modules/","post"),deleteModule:new p("/modules/:moduleName","delete"),rebuildModule:new p("/modules/:moduleName/rebuild","post"),updateModule:new p("/modules/:moduleName/update","post"),checkUpdates:new p("/modules/checkUpdates/update","get"),getWebPages:new p("/pages/","get"),setWebPage:new p("/pages/","post"),deleteWebPage:new p("/pages/:id","delete"),getServerInfo:new p("/app/","get"),exitApplication:new p("/app/exitApplication","post"),restartApplication:new p("/app/restartApplication","post"),shutdownSystem:new p("/app/shutdownSystem","post"),rebootSystem:new p("/app/restartSystem","post"),resetApplication:new p("/app/resetApplication","post"),getSettings:new p("/settings/","get"),setSettings:new p("/settings/","post"),getWebComponentOptions:new p("/components/","get"),setWebComponentOptions:new p("/components/","post"),deleteWebComponentOptions:new p("/components/:id","delete")},d=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},f=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},m=new l("reactron"),y=function(){function e(){this.getAllServices=v(h.getServices,!0),this.getServiceOptions=v(h.getServiceOptions),this.setServiceOptions=v(h.setServiceOptions),this.getModules=v(h.getModules,!0),this.addModule=v(h.addModule),this.checkUpdates=v(h.checkUpdates),this.deleteModule=v(h.deleteModule),this.rebuildModule=v(h.rebuildModule),this.updateModule=v(h.updateModule),this.getWebPages=v(h.getWebPages,!0),this.setWebPage=v(h.setWebPage),this.deleteWebPage=v(h.deleteWebPage),this.getServerInfo=v(h.getServerInfo),this.exitApplication=v(h.exitApplication),this.restartApplication=v(h.restartApplication),this.shutdownSystem=v(h.shutdownSystem),this.rebootSystem=v(h.rebootSystem),this.resetApplication=v(h.resetApplication),this.getSettings=v(h.getSettings,!0),this.setSettings=v(h.setSettings),this.getWebComponentOptions=v(h.getWebComponentOptions,!0),this.setWebComponentOptions=v(h.setWebComponentOptions),this.deleteWebComponentOptions=v(h.deleteWebComponentOptions)}return e.prototype.clearCache=function(){var e=this;Object.keys(this).forEach(function(t){e[t]&&e[t].clearCache&&e[t].clearCache()})},e}(),v=function(e,t){var n;void 0===t&&(t=!1);var o=e.method.toLocaleLowerCase(),r=function(r,i){if(t&&n)return Promise.resolve(n);var s=e.path;return r&&Object.keys(r).forEach(function(e){s=s.replace(":"+e,r[e])}),fetch(m.moduleApiPath+s,{method:o,body:i&&JSON.stringify(i),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){return d(void 0,void 0,void 0,function(){var t;return f(this,function(n){switch(n.label){case 0:return[4,e.text()];case 1:if(t=n.sent(),e.status.toString().startsWith("2"))return t?[2,JSON.parse(t)]:[2,void 0];throw console.log(t),Error(t)}})})}).then(function(e){return t&&(n=e),e})};return r.clearCache=function(){n=void 0},r},g=new y,b=n(3),w=n(2),C=n(217),E=n(36),_=(n(47),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype.render=function(){return r.createElement(E.a,{className:"RoundButton",to:this.props.to,role:"button"},this.props.children)},t}(r.Component),S=n(5),P=(n(49),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return P(t,e),t.prototype.render=function(){return r.createElement("section",{className:S("Loading",{center:this.props.center})},r.createElement(w.FontAwesomeIcon,{icon:b.faSpinner,size:this.props.iconSize,spin:!0}),this.props.text&&r.createElement("div",{className:"text"},this.props.text))},t.defaultProps={iconSize:"4x"},t}(r.Component),A=(n(51),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.renderChildren=function(){return Array.isArray(this.props.children)?this.props.children.map(function(e,t){return r.createElement("div",{key:t},e)}):r.createElement("div",null,this.props.children)},t.prototype.render=function(){return r.createElement("section",{className:S("UiFlowLayout",this.props.className),style:this.props.style},this.renderChildren())},t}(r.Component),I=(n(53),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.prototype.render=function(){return r.createElement("section",{className:S("UiCard",this.props.className),style:this.props.style},this.props.children)},t}(r.Component),x=(n(55),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return r.createElement("div",{className:S("UiCardContent",this.props.className),style:this.props.style},this.props.children)},t}(r.Component),T=(n(57),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){return r.createElement("div",{className:S("UiCardTitle",this.props.className),style:this.props.style},this.props.children)},t}(r.Component),W=(n(59),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),F=function(e){function t(t){return e.call(this,t)||this}return W(t,e),t.prototype.render=function(){return r.createElement(D,{className:"UiLoadingCard"},r.createElement(M,null,"Loading..."),r.createElement(j,null,r.createElement(N,null)))},t}(r.Component),R=new(function(){function e(){this.items=[]}return e.prototype.add=function(e){this.items.length>0&&this.items[this.items.length-1].hide();this.items.push(e)},e.prototype.remove=function(e){var t=this.items.indexOf(e);t>=0&&(this.items.splice(t),this.items.length>0&&this.items[this.items.length-1].show())},e}()),L=(n(61),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),U=function(e){function t(t){var n=e.call(this,t)||this;return n.state={visible:!0},n}return L(t,e),t.prototype.componentDidMount=function(){R.add(this)},t.prototype.componentWillUnmount=function(){R.remove(this)},t.prototype.show=function(){this.setState({visible:!0})},t.prototype.hide=function(){this.setState({visible:!1})},t.prototype.render=function(){return r.createElement("div",{hidden:!this.state.visible,className:S("UiOverlay",this.props.className),style:this.props.style},this.props.children)},t}(r.Component),V=(n(63),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),B=function(e){function t(t){var n=e.call(this,t)||this;return n.disposed=!1,n.state={running:!1},n.onClick=n.onClick.bind(n),n}return V(t,e),t.prototype.onClick=function(e){var t=this;!this.props.onClick||this.props.disabled||this.state.running||(e.preventDefault(),e.bubbles=!1,e.stopPropagation(),this.setState({running:!0},function(){Promise.resolve(t.props.onClick&&t.props.onClick()).catch().then(function(){t.disposed||t.setState({running:!1})})}))},t.prototype.componentWillUnmount=function(){this.disposed=!0},t.prototype.render=function(){var e=S("UiButton","clickable",this.props.className,{disabled:this.props.disabled||this.state.running});return r.createElement("div",{className:e,onClick:this.onClick,style:this.props.style},this.props.children)},t}(r.Component),G=(n(65),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),t.prototype.render=function(){var e,t=this;return r.createElement(D,{className:"AddModuleCard"},r.createElement("input",{ref:function(t){return e=t},placeholder:"GitHub Repository URL"}),r.createElement(B,{className:"addButton",onClick:function(){return t.props.onAdd(e&&e.value)}},r.createElement(w.FontAwesomeIcon,{icon:b.faPlus})," Add"))},t}(r.Component),H=(n(67),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),q=function(e){function t(t){return e.call(this,t)||this}return H(t,e),t.prototype.renderCommandResult=function(e,t){var n,o=this,i=!1===e.success?r.createElement(w.FontAwesomeIcon,{icon:b.faTimes}):!0===e.success?r.createElement(w.FontAwesomeIcon,{icon:b.faCheck}):r.createElement(w.FontAwesomeIcon,{icon:b.faQuestion});e.log&&e.log.length&&(n=r.createElement("ul",{className:"log"},e.log.map(function(e,t){return r.createElement("li",{key:t},e)})));var s=e.command||"";return e.args&&(s+=" | args: "+e.args),r.createElement(r.Fragment,{key:t},r.createElement("div",{className:"result"},r.createElement("div",{className:"commandTitle"},i," ",s),n),e.children&&e.children.map(function(e,n){return o.renderCommandResult(e,t+"."+n)}))},t.prototype.render=function(){var e=this;return r.createElement(D,{className:"CommandResult"},r.createElement("div",{className:"title"},"Result"),r.createElement("div",{className:"close clickable",onClick:this.props.onClose},r.createElement(w.FontAwesomeIcon,{icon:b.faTimes})),r.createElement("div",{className:"results"},this.props.results.map(function(t,n){return e.renderCommandResult(t,n.toString())})))},t}(r.Component),J=n(17),K=(n(69),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){var e=S("UiCardButtonRow",this.props.className,{UiCardButtonRowDividerFull:"full"===this.props.divider,UiCardButtonRowDividerHalf:"half"===this.props.divider});return r.createElement("div",{className:e,style:this.props.style},this.props.children)},t}(r.Component),Y=(n(71),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Z=function(e){function t(t){var n=e.call(this,t)||this;return n.state={showActions:!1},n.showActions=n.showActions.bind(n),n.hideActions=n.hideActions.bind(n),n.onUpdate=n.onUpdate.bind(n),n.onRebuild=n.onRebuild.bind(n),n.onRemove=n.onRemove.bind(n),n}return Y(t,e),t.prototype.showActions=function(){this.setState({showActions:!0})},t.prototype.hideActions=function(){this.setState({showActions:!1})},t.prototype.onUpdate=function(){this.hideActions(),this.props.onUpdate(this.props.module)},t.prototype.onRebuild=function(){this.hideActions(),this.props.onRebuild(this.props.module)},t.prototype.onRemove=function(){this.hideActions(),this.props.onRemove(this.props.module)},t.prototype.renderTitle=function(){var e;return this.props.module.hasUpdate&&(e=r.createElement("span",{className:"hasUpdate"},r.createElement(w.FontAwesomeIcon,{icon:b.faStarOfLife}))),r.createElement(M,null,r.createElement(w.FontAwesomeIcon,{icon:b.faCube})," ",this.props.module.name,e)},t.prototype.renderDescription=function(){return r.createElement(j,{className:"description"},this.props.module.description||"no description")},t.prototype.renderAuthor=function(){var e,t="unknown";"string"===typeof this.props.module.author?t=this.props.module.author:"object"===typeof this.props.module.author&&(t=this.props.module.author.name||this.props.module.author.email,e=this.props.module.author.email);var n=e?r.createElement("a",{href:"mailto://"+e},t):t;return r.createElement(j,{className:"author"},"by ",n)},t.prototype.renderFooter=function(){var e=r.createElement("div",null);this.props.module.repository&&(e=r.createElement("a",{className:"clickable",href:this.props.module.repository,target:"_blank"},r.createElement(w.FontAwesomeIcon,{icon:J.b})," GitHub"));var t=S("footer","default",{hide:this.state.showActions});return r.createElement(Q,{className:t,divider:"half"},r.createElement("div",{className:"version"},this.props.module.version),e,r.createElement(B,{onClick:this.showActions},r.createElement(w.FontAwesomeIcon,{icon:b.faCog})," Modify"))},t.prototype.renderActions=function(){var e=S("footer","actions",{hide:!this.state.showActions});return r.createElement(Q,{className:e,divider:"full"},r.createElement(B,{disabled:!this.props.module.hasUpdate,onClick:this.onUpdate},"Update"),r.createElement(B,{disabled:!this.props.module.canBuild,onClick:this.onRebuild},"Rebuild"),r.createElement(B,{disabled:!this.props.module.canRemove,onClick:this.onRemove},"Remove"),r.createElement(B,{onClick:this.hideActions},r.createElement(w.FontAwesomeIcon,{icon:b.faTimes})))},t.prototype.render=function(){return r.createElement(D,{className:"ModuleCard"},this.renderTitle(),this.renderDescription(),this.renderAuthor(),this.renderFooter(),this.renderActions())},t}(r.Component),X=(n(73),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype.render=function(){var e=this.props.modules.filter(function(e){return e.hasUpdate}),t=this.props.modules.some(function(e){return void 0!==e.hasUpdate})?e.length:"-";return r.createElement(D,{className:"UpdateModulesCard"},r.createElement(Q,{divider:"full"},r.createElement("div",null,"Updates: ",t),r.createElement(B,{className:"checkUpdatesButton",onClick:this.props.onCheckUpdates,disabled:this.props.checkingUpdates},r.createElement(w.FontAwesomeIcon,{icon:b.faSyncAlt,spin:this.props.checkingUpdates})," Check"),r.createElement(B,{className:"updateAllButton",onClick:this.props.onCheckUpdates,disabled:!e.length},r.createElement(w.FontAwesomeIcon,{icon:b.faDownload})," Update All")))},t}(r.Component),ee=(n(75),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),te=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},ne=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},oe=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!1,checkingUpdates:!1,showResult:!1,results:[],modules:[]},n.loadModules=n.loadModules.bind(n),n.checkUpdates=n.checkUpdates.bind(n),n.updateAll=n.updateAll.bind(n),n.updateModule=n.updateModule.bind(n),n.removeModule=n.removeModule.bind(n),n.rebuildModule=n.rebuildModule.bind(n),n.addModule=n.addModule.bind(n),n.hideResult=n.hideResult.bind(n),n}return ee(t,e),t.prototype.componentDidMount=function(){this.loadModules()},t.prototype.loadModules=function(){var e=this;return g.getModules().then(function(t){return e.setState({modules:t})}).catch()},t.prototype.checkUpdates=function(){return te(this,void 0,Promise,function(){return ne(this,function(e){switch(e.label){case 0:return this.setState({checkingUpdates:!0}),[4,g.checkUpdates()];case 1:return e.sent(),this.setState({checkingUpdates:!1}),g.getModules.clearCache(),[4,this.loadModules()];case 2:return e.sent(),[2]}})})},t.prototype.updateAll=function(){return te(this,void 0,Promise,function(){var e,t,n,o,r,i,s;return ne(this,function(a){switch(a.label){case 0:if(!(e=this.state.modules.filter(function(e){return e.hasUpdate})).length)return[2];t=[],this.setState({loading:!0}),a.label=1;case 1:a.trys.push([1,6,,7]),n=0,o=e,a.label=2;case 2:return n<o.length?(r=o[n],[4,g.updateModule({moduleName:r.name})]):[3,5];case 3:i=a.sent(),t.push.apply(t,i),a.label=4;case 4:return n++,[3,2];case 5:return this.showResult(t),[3,7];case 6:return s=a.sent(),this.showError(s),[3,7];case 7:return g.getModules.clearCache(),[4,this.loadModules()];case 8:return a.sent(),[2]}})})},t.prototype.updateModule=function(e){return te(this,void 0,Promise,function(){var t,n;return ne(this,function(o){switch(o.label){case 0:if(!e.hasUpdate)return[2];this.setState({loading:!0}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,g.updateModule({moduleName:e.name})];case 2:return t=o.sent(),this.showResult(t),[3,4];case 3:return n=o.sent(),this.showError(n),[3,4];case 4:return g.getModules.clearCache(),[4,this.loadModules()];case 5:return o.sent(),[2]}})})},t.prototype.rebuildModule=function(e){return te(this,void 0,Promise,function(){var t,n;return ne(this,function(o){switch(o.label){case 0:if(!e.canBuild)return[2];this.setState({loading:!0}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,g.rebuildModule({moduleName:e.name})];case 2:return t=o.sent(),this.showResult(t),[3,4];case 3:return n=o.sent(),this.showError(n),[3,4];case 4:return g.getModules.clearCache(),[4,this.loadModules()];case 5:return o.sent(),[2]}})})},t.prototype.removeModule=function(e){return te(this,void 0,Promise,function(){var t,n;return ne(this,function(o){switch(o.label){case 0:if(!e.canRemove)return[2];this.setState({loading:!0}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,g.deleteModule({moduleName:e.name})];case 2:return t=o.sent(),this.showResult(t),[3,4];case 3:return n=o.sent(),this.showError(n),[3,4];case 4:return g.getModules.clearCache(),[4,this.loadModules()];case 5:return o.sent(),[2]}})})},t.prototype.addModule=function(e){return te(this,void 0,Promise,function(){var t,n;return ne(this,function(o){switch(o.label){case 0:if(!e||!e.trim())return[2];this.setState({loading:!0}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,g.addModule(void 0,{repository:e})];case 2:return t=o.sent(),this.showResult(t),[3,4];case 3:return n=o.sent(),this.showError(n),[3,4];case 4:return g.getModules.clearCache(),[4,this.loadModules()];case 5:return o.sent(),[2]}})})},t.prototype.showError=function(e){var t={command:"Error",success:!1,log:[e&&e.message||JSON.stringify(e)]};this.setState({loading:!1,showResult:!0,results:[t]})},t.prototype.showResult=function(e){this.setState({loading:!1,showResult:!0,results:e})},t.prototype.hideResult=function(){this.setState({showResult:!1})},t.prototype.render=function(){var e=this;return r.createElement("section",{className:"ModuleManagerPage"},this.state.loading&&r.createElement(U,null,r.createElement(N,{center:!0})),this.state.showResult&&r.createElement(U,null,r.createElement(q,{results:this.state.results,onClose:this.hideResult})),r.createElement(k,null,r.createElement(z,{onAdd:this.addModule}),r.createElement($,{checkingUpdates:this.state.checkingUpdates,modules:this.state.modules,onCheckUpdates:this.checkUpdates,onUpdateAll:this.updateAll,onUpdateModule:this.updateModule})),!this.state.modules.length&&r.createElement(k,null,r.createElement(F,null)),r.createElement(k,null,this.state.modules.map(function(t){return r.createElement(Z,{key:t.name,module:t,onRemove:e.removeModule,onRebuild:e.rebuildModule,onUpdate:e.updateModule})})))},t}(r.Component),re=n(215),ie=(n(77),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ie(t,e),t.prototype.render=function(){return r.createElement("section",{className:"Navigation"},r.createElement(re.a,{activeClassName:"active",to:"/admin/ModuleManager",role:"button"},"Modules"),r.createElement(re.a,{activeClassName:"active",to:"/admin/ServiceManager",role:"button"},"Services"),r.createElement(re.a,{activeClassName:"active",to:"/admin/Pages",role:"button"},"Pages"),r.createElement(re.a,{activeClassName:"active",to:"/admin/Settings",role:"button"},"Settings"),r.createElement(re.a,{activeClassName:"active",to:"/admin/System",role:"button"},"System"))},t}(r.Component),ae=n(4),ce=function(e){var t=e.defaultValue;if(e.isArray)return t&&Array.isArray(t)?t:[];switch(e.valueType){case"object":var n=t;return void 0===n&&(n=le(e.fields)),n;case"number":return t||0;case"boolean":return t||!1;case"string":return t||"";case"style":return t||{};case"webComponent":return}},le=function(e){var t={};return e&&e.forEach(function(e){t[e.name]=ce(e)}),t},ue=n(20),pe=(n(82),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),he=function(){return(he=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},de=function(e){function t(t){var n=e.call(this,t)||this;return n.arrayKeys=[],n.arrayItemAdd=n.arrayItemAdd.bind(n),n.arrayItemRemove=n.arrayItemRemove.bind(n),n.arrayItemMoveUp=n.arrayItemMoveUp.bind(n),n.arrayItemMoveDown=n.arrayItemMoveDown.bind(n),n}return pe(t,e),t.prototype.arrayItemChange=function(e,t,n){var o=this.props.value||[];(o=o.slice())[e]=n,this.props.valueChange(o)},t.prototype.arrayItemRemove=function(e){var t=this.props.value||[];(t=t.slice()).splice(e,1),this.arrayKeys.splice(e,1),this.props.valueChange(t)},t.prototype.arrayItemMoveUp=function(e){var t=this.props.value||[];if(0!==e){var n=t.splice(e,1)[0];t.splice(e-1,0,n);var o=this.arrayKeys.splice(e,1)[0];this.arrayKeys.splice(e-1,0,o),this.props.valueChange(t)}},t.prototype.arrayItemMoveDown=function(e){var t=this.props.value||[];if(e!==t.length-1){var n=t.splice(e,1)[0];t.splice(e+1,0,n);var o=this.arrayKeys.splice(e,1)[0];this.arrayKeys.splice(e+1,0,o),this.props.valueChange(t)}},t.prototype.arrayItemAdd=function(){var e=he({},this.props.definition);e.isArray=!1;var t=this.props.value||[];(t=t.slice()).push(ce(e)),this.props.valueChange(t)},t.prototype.renderArrayItem=function(e,t){var n=he({},this.props.definition);n.isArray=!1,n.displayName="Item "+(t+1);var o=this.arrayKeys[t];return o||(o=this.arrayKeys[t]=ue()),r.createElement(r.Fragment,{key:o},r.createElement(tt,{definition:n,value:e,valueChange:this.arrayItemChange.bind(this,t)},r.createElement(B,{onClick:this.arrayItemRemove.bind(this,t)},r.createElement(w.FontAwesomeIcon,{icon:ae.e})),r.createElement(B,{onClick:this.arrayItemMoveUp.bind(this,t)},r.createElement(w.FontAwesomeIcon,{icon:ae.b})),r.createElement(B,{onClick:this.arrayItemMoveDown.bind(this,t)},r.createElement(w.FontAwesomeIcon,{icon:ae.a}))))},t.prototype.render=function(){var e=this,t=this.props.value||[];return r.createElement(r.Fragment,null,t.map(function(t,n){return e.renderArrayItem(t,n)}),r.createElement(B,{className:"add-array-item",onClick:this.arrayItemAdd},r.createElement(w.FontAwesomeIcon,{icon:b.faPlus})," Add item"))},t}(r.Component),fe=(n(84),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),me=function(){return(me=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ye=["background","backgroundAttachment","backgroundColor","backgroundImage","backgroundPosition","backgroundRepeat","border","borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderColor","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderStyle","borderTop","borderTopColor","borderTopStyle","borderTopWidth","borderWidth","clear","clip","color","cursor","display","filter","cssFloat","font","fontFamily","fontSize","fontVariant","fontWeight","height","left","letterSpacing","lineHeight","listStyle","listStyleImage","listStylePosition","listStyleType","margin","marginBottom","marginLeft","marginRight","marginTop","overflow","padding","paddingBottom","paddingLeft","paddingRight","paddingTop","pageBreakAfter","pageBreakBefore","position","strokeDasharray","strokeDashoffset","strokeWidth","textAlign","textDecoration","textIndent","textTransform","top","verticalAlign","visibility","width","zIndex"],ve=function(e){function t(t){var n=e.call(this,t)||this;return n.state={fields:n.getFields(n.props.value)},n.addField=n.addField.bind(n),n.valueChange=n.valueChange.bind(n),n}return fe(t,e),t.prototype.componentDidUpdate=function(e){e!==this.props&&this.setState({fields:this.getFields(this.props.value)})},t.prototype.getFields=function(e){var t=[];return e&&Object.keys(e).forEach(function(e){var n={name:e,displayName:e,valueType:"string"};t.push(n)}),t},t.prototype.valueChange=function(e,t){var n=me({},this.props.value);n[e.name]=t,this.props.onChange(n)},t.prototype.removeField=function(e){var t=me({},this.props.value);delete t[e],this.props.onChange(t)},t.prototype.addField=function(){if(this.newPropertySelect){var e=this.newPropertySelect.value;if(!(!e||this.props.value&&this.props.value.hasOwnProperty(e))){var t=me({},this.props.value);t[e]="",this.props.onChange(t)}}},t.prototype.render=function(){var e=this;return r.createElement("div",{className:"StyleForm"},this.state.fields.map(function(t){var n=e.props.value&&e.props.value[t.name];return r.createElement(tt,{key:t.name,definition:t,value:n,valueChange:e.valueChange},r.createElement(B,{onClick:e.removeField.bind(e,t.name)},r.createElement(w.FontAwesomeIcon,{icon:ae.e})))}),r.createElement("div",{className:"newPropertyRow"},r.createElement("select",{ref:function(t){return e.newPropertySelect=t}},ye.map(function(e){return r.createElement("option",{key:e,value:e},e)})),r.createElement(B,{onClick:this.addField},r.createElement(w.FontAwesomeIcon,{icon:b.faPlus})," Add")))},t}(r.Component),ge=n(13),be=(n(86),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),we={component:function(e){function t(t){return e.call(this,t)||this}return be(t,e),t.prototype.render=function(){return r.createElement("section",{className:"CarouselLayout"},"CarouselLayout")},t}(r.Component),description:"Carousel Layout",displayName:"Carousel Layout",name:"CarouselLayout",fields:[]},Ce=(n(88),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Ee=function(){return(Ee=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_e={component:function(e){function t(t){var n=e.call(this,t)||this;return n.renderTile=n.renderTile.bind(n),n}return Ce(t,e),t.prototype.renderTile=function(e,t){var n=Ee({},this.props.options.tileStyle,e.style);return n.gridColumn=e.col.toString(),e.colspan>1&&(n.gridColumn+=" / span "+e.colspan),n.gridRow=e.row.toString(),e.rowspan>1&&(n.gridRow+=" / span "+e.rowspan),r.createElement("div",{className:"GridTile",key:t,style:n},this.props.renderComponent({id:e.content}))},t.prototype.render=function(){return r.createElement("section",{className:"GridLayout",style:this.props.options.gridStyle},this.props.options.tiles.map(this.renderTile))},t}(r.Component),description:"Grid Layout",displayName:"Grid Layout",name:"GridLayout",fields:[{displayName:"Rows",name:"rows",valueType:"number"},{displayName:"Columns",name:"cols",valueType:"number"},{displayName:"Grid Style",name:"gridStyle",valueType:"style"},{displayName:"Tile Style",name:"tileStyle",valueType:"style"},{displayName:"Grid tiles",name:"tiles",valueType:"object",isArray:!0,fields:[{displayName:"Row",name:"row",valueType:"number"},{displayName:"Column",name:"col",valueType:"number"},{displayName:"Row span",name:"rowspan",valueType:"number"},{displayName:"Column span",name:"colspan",valueType:"number"},{displayName:"Content",name:"content",valueType:"webComponent"},{displayName:"Style",name:"style",valueType:"style"}]}]},Oe=(n(90),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Se={component:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oe(t,e),t.prototype.render=function(){return r.createElement("iframe",{className:"ui-iframe",src:this.props.options.url})},t}(r.Component),description:"IFrame Component",displayName:"IFrame",name:"IFrame",fields:[{displayName:"URL",name:"url",valueType:"string"}]},Pe=(n(92),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Ne=function(){return(Ne=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ae={component:function(e){function t(t){var n=e.call(this,t)||this;return n.renderListItem=n.renderListItem.bind(n),n}return Pe(t,e),t.prototype.renderListItem=function(e,t){var n=Ne({},this.props.options.itemStyle,e.style);return r.createElement("div",{className:"ListItem",key:t,style:n},this.props.renderComponent({id:e.content}))},t.prototype.render=function(){return r.createElement("section",{className:"ListLayout"},this.props.options.items.map(this.renderListItem))},t}(r.Component),description:"List Layout",displayName:"List Layout",name:"ListLayout",fields:[{displayName:"List Style",name:"listStyle",valueType:"style"},{displayName:"Item Style",name:"itemStyle",valueType:"style"},{displayName:"List items",name:"items",valueType:"object",isArray:!0,fields:[{displayName:"Content",name:"content",valueType:"webComponent"},{displayName:"Style",name:"style",valueType:"style"}]}]},ke=n(37),Ie=(n(173),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),De={component:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.render=function(){return r.createElement("section",{className:"MarkDown"},r.createElement(ke,{source:this.props.options.text}))},t}(r.Component),description:"MarkDown Component",displayName:"MarkDown",name:"MarkDown",fields:[{displayName:"Text",name:"text",valueType:"string",textRows:10}]},xe=(n(175),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),je={component:function(e){function t(t){return e.call(this,t)||this}return xe(t,e),t.prototype.render=function(){return r.createElement("section",{className:"Notifications"},"Notifications")},t}(r.Component),description:"Notifications",displayName:"Notifications",name:"Notifications",fields:[]},Te=n(38),Me=n.n(Te),We=(n(177),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Fe=[Ae,we,_e,{component:function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return We(t,e),t.prototype.componentDidMount=function(){var e=this;g.getServerInfo().then(function(t){e.setState({info:t})})},t.prototype.render=function(){var e;return this.state.info&&(e=r.createElement("div",{className:"info"},"To edit this page click Admin-Button or visit",r.createElement("br",null),r.createElement("br",null),r.createElement("i",null,"http://",this.state.info.ip,":3000/admin"))),r.createElement("section",{className:"Welcome"},r.createElement("img",{src:Me.a,className:"logo",alt:"logo"}),r.createElement("div",{className:"title"},"Welcome to Reactron"),e,r.createElement(O,{to:"/admin"},r.createElement(w.FontAwesomeIcon,{icon:b.faCog}),"Admin"))},t}(r.Component),description:"Welcome Component",displayName:"Welcome",name:"Welcome",fields:[]},De,je,Se],Re=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},Le=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ue=window.System,Ve=Ue.resolve;Ue.resolve=function(e,t){return Re(void 0,void 0,void 0,function(){var n;return Le(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,Ve.call(Ue,e,t)];case 1:return n=o.sent(),[3,3];case 2:return o.sent(),n="bundle:"+e,[3,3];case 3:return console.log("SystemJS.resolve",e,t,n),[2,n]}})})},u.electron&&Ue.register("electron",[],function(e){return{execute:function(){return e(u.electron)}}}),Ue.register("react",[],function(e){return{execute:function(){return e(r)}}}),Ue.register("react-dom",[],function(e){return{execute:function(){return e(i)}}}),Ue.register("@fortawesome/fontawesome-svg-core",[],function(e){return{execute:function(){return e(ge)}}}),Ue.register("@fortawesome/free-solid-svg-icons",[],function(e){return{execute:function(){return e(b)}}}),Ue.register("@fortawesome/react-fontawesome",[],function(e){return{execute:function(){return e(w)}}});var Be=new(function(){function e(){this.allComponentsLoaded=!1,this.moduleComponents={reactron:Fe}}return e.prototype.getModuleComponents=function(e){return Re(this,void 0,Promise,function(){var t,n;return Le(this,function(o){switch(o.label){case 0:return this.moduleComponents[e]?[3,3]:[4,g.getModules()];case 1:return t=o.sent(),(n=t.find(function(t){return t.name===e}))?[4,this.registerModuleComponents(n)]:(console.log("Module not found loaded: "+e),[2]);case 2:o.sent(),o.label=3;case 3:return[2,this.moduleComponents[e]]}})})},e.prototype.registerModuleComponents=function(e){return Re(this,void 0,Promise,function(){var t,n,o;return Le(this,function(r){switch(r.label){case 0:if(!e.browserFile)return console.log("Module has no browserFile: "+e.name),[2];if(this.moduleComponents[e.name])return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),console.log(e.browserFile),[4,Ue.import("\\"+e.browserFile)];case 2:return t=r.sent(),(n=t.components)&&"object"===typeof n&&Array.isArray(n)&&(this.moduleComponents[e.name]=n),console.log("Components loaded for module: "+e.name),[3,4];case 3:return o=r.sent(),console.log("Error loading components for module: "+e.name,o),[3,4];case 4:return[2]}})})},e.prototype.getAllComponents=function(){return Re(this,void 0,Promise,function(){var e,t,n,o;return Le(this,function(r){switch(r.label){case 0:return this.allComponentsLoaded?[2,this.moduleComponents]:[4,g.getModules()];case 1:e=r.sent(),t=0,n=e,r.label=2;case 2:return t<n.length?(o=n[t],[4,this.registerModuleComponents(o)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return this.allComponentsLoaded=!0,[2,this.moduleComponents]}})})},e}()),Ge=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},ze=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},He=function(){function e(){this.subscriptions=[]}return e.prototype.subscribe=function(e){this.subscriptions.push(e)},e.prototype.unsubscribe=function(e){var t=this.subscriptions.indexOf(e);t>=0&&this.subscriptions.splice(t)},e.prototype.publish=function(e){return Ge(this,void 0,Promise,function(){var t,n,o;return ze(this,function(r){switch(r.label){case 0:t=0,n=this.subscriptions,r.label=1;case 1:return t<n.length?(o=n[t],[4,Promise.resolve(o(e))]):[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e}(),qe=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},Je=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ke=function(){function e(){this.onSave=new He,this.removedWebComponents=[],this.changedWebComponents=[],this.createdWebComponents=[],this.saveWebComponents=this.saveWebComponents.bind(this),this.onSave.subscribe(this.saveWebComponents)}return e.prototype.saveWebComponents=function(){return qe(this,void 0,Promise,function(){var e,t,n,o,r,i,s;return Je(this,function(a){switch(a.label){case 0:console.log("removedWebComponents",this.removedWebComponents),console.log("createdWebComponents",this.createdWebComponents),console.log("changedWebComponents",this.changedWebComponents),e=0,t=this.removedWebComponents,a.label=1;case 1:return e<t.length?(s=t[e],[4,g.deleteWebComponentOptions(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:n=0,o=this.createdWebComponents,a.label=5;case 5:return n<o.length?(s=o[n],[4,g.setWebComponentOptions(void 0,s)]):[3,8];case 6:a.sent(),a.label=7;case 7:return n++,[3,5];case 8:r=0,i=this.changedWebComponents,a.label=9;case 9:return r<i.length?(s=i[r],[4,g.setWebComponentOptions(void 0,s)]):[3,12];case 10:a.sent(),a.label=11;case 11:return r++,[3,9];case 12:return this.removedWebComponents=[],this.changedWebComponents=[],this.createdWebComponents=[],[2]}})})},e.prototype.webComponentRemoved=function(e){console.log("webComponentRemoved",e);var t=this.createdWebComponents.findIndex(function(t){return t.id===e.id});t>=0?this.createdWebComponents.splice(t,1):this.removedWebComponents.push(e)},e.prototype.webComponentChanged=function(e){console.log("webComponentChanged",e);var t=this.createdWebComponents.findIndex(function(t){return t.id===e.id});t>=0?(this.createdWebComponents.splice(t,1),this.changedWebComponents.push(e)):(this.changedWebComponents=this.changedWebComponents.filter(function(t){return t.id!==e.id}),this.changedWebComponents.push(e))},e.prototype.webComponentCreated=function(e){console.log("webComponentCreated",e),this.createdWebComponents.push(e)},e}(),Qe=r.createContext(new Ke),Ye=(n(179),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Ze=function(){return(Ze=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Xe=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loadingWebComponents:!0,loadingComponentDefinitions:!0,webComponents:[],componentDefinitions:[]},n.initCurrentComponent=n.initCurrentComponent.bind(n),n.onOptionsChange=n.onOptionsChange.bind(n),n.removeWebComponent=n.removeWebComponent.bind(n),n.onSelectedComponentDefinitionChange=n.onSelectedComponentDefinitionChange.bind(n),n}return Ye(t,e),Object.defineProperty(t.prototype,"formEvents",{get:function(){return this.context},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.loadComponentDefinitions(),this.loadWebComponents()},t.prototype.componentWillUnmount=function(){this.state.selectedWebComponentOptions&&this.formEvents.webComponentRemoved(this.state.selectedWebComponentOptions)},t.prototype.loadComponentDefinitions=function(){var e=this;return Be.getAllComponents().then(function(t){var n=[];Object.keys(t).forEach(function(e){t[e].forEach(function(t){var o=e+"."+t.name;n.push({moduleName:e,definition:t,key:o})})}),e.setState({componentDefinitions:n,loadingComponentDefinitions:!1},e.initCurrentComponent)}).catch(function(e){return console.log(e)})},t.prototype.loadWebComponents=function(){var e=this;return g.getWebComponentOptions().then(function(t){e.setState({webComponents:t,loadingWebComponents:!1},e.initCurrentComponent)}).catch(function(e){return console.log(e)})},t.prototype.initCurrentComponent=function(){var e=this;if(!this.state.loadingWebComponents&&!this.state.loadingComponentDefinitions&&this.props.webComponentId){var t=this.state.webComponents.find(function(t){return t.id===e.props.webComponentId});if(t){var n=t.moduleName+"."+t.componentName,o=this.state.componentDefinitions.find(function(e){return e.key===n});o&&this.setState({selectedComponentDefinition:o,selectedWebComponentOptions:t})}}},t.prototype.onSelectedComponentDefinitionChange=function(e){var t,n=e.currentTarget.value,o=this.state.componentDefinitions.find(function(e){return e.key===n}),r=this.state.selectedWebComponentOptions;o&&(t={id:r&&r.id||n+"_"+ue(),moduleName:o.moduleName,componentName:o.definition.name,options:le(o.definition.fields)});var i=t&&t.id;this.props.webComponentId!==i&&(this.props.onChange(i),t?this.formEvents.webComponentCreated(t):r&&this.formEvents.webComponentRemoved(r)),this.setState({selectedWebComponentOptions:t,selectedComponentDefinition:o})},t.prototype.removeWebComponent=function(){this.state.selectedWebComponentOptions&&(this.formEvents.webComponentRemoved(this.state.selectedWebComponentOptions),this.props.onChange(void 0),this.setState({selectedWebComponentOptions:void 0,selectedComponentDefinition:void 0}))},t.prototype.onOptionsChange=function(e){if(this.state.selectedWebComponentOptions){var t=Ze({},this.state.selectedWebComponentOptions);t.options=e,this.setState({selectedWebComponentOptions:t}),this.formEvents.webComponentChanged(t)}},t.prototype.renderComponentSelection=function(){if(this.state.loadingWebComponents||this.state.loadingComponentDefinitions)return null;var e=this.state.selectedComponentDefinition&&this.state.selectedComponentDefinition.key||"";return this.state.selectedComponentDefinition?r.createElement("div",{className:"componentTitle"},r.createElement(B,null,r.createElement(w.FontAwesomeIcon,{icon:b.faCube})),r.createElement("label",null,this.state.selectedComponentDefinition.definition.displayName," (",this.state.selectedComponentDefinition.moduleName,")"),r.createElement(B,{onClick:this.removeWebComponent},r.createElement(w.FontAwesomeIcon,{icon:ae.e}))):r.createElement("select",{className:"componentSelect",value:e,onChange:this.onSelectedComponentDefinitionChange},r.createElement("option",{key:"_",value:""},"Select Component..."),this.state.componentDefinitions.map(function(e){return r.createElement("option",{key:e.key,value:e.key},e.definition.displayName," (",e.moduleName,")")}))},t.prototype.render=function(){return r.createElement("div",{className:"WebComponentForm"},this.renderComponentSelection(),this.state.selectedWebComponentOptions&&this.state.selectedComponentDefinition&&r.createElement(rt,{value:this.state.selectedWebComponentOptions.options,fields:this.state.selectedComponentDefinition.definition.fields,valueChange:this.onOptionsChange}))},t.contextType=Qe,t}(r.Component),$e=(n(181),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),et=0,tt=function(e){function t(t){var n=e.call(this,t)||this,o=!!t.definition.isArray||void 0!==t.definition.textRows&&t.definition.textRows>1;switch(t.definition.valueType){case"object":case"style":case"webComponent":o=!0}return n.state={uniqueId:"ID"+et++,hasDetails:o},n.triggerValueChange=n.triggerValueChange.bind(n),n.onInputChange=n.onInputChange.bind(n),n.onTextareaChange=n.onTextareaChange.bind(n),n.onCheckboxChange=n.onCheckboxChange.bind(n),n.onSelectValueChange=n.onSelectValueChange.bind(n),n.toggleItemDetails=n.toggleItemDetails.bind(n),n}return $e(t,e),t.prototype.triggerValueChange=function(e){this.props.valueChange(this.props.definition,e)},t.prototype.renderArray=function(){return r.createElement(de,{definition:this.props.definition,value:this.props.value,valueChange:this.triggerValueChange})},t.prototype.renderObject=function(){return r.createElement(rt,{fields:this.props.definition.fields,value:this.props.value,valueChange:this.triggerValueChange})},t.prototype.onTextareaChange=function(e){this.triggerValueChange(e.currentTarget.value)},t.prototype.onInputChange=function(e){this.triggerValueChange(e.currentTarget.value)},t.prototype.onSelectValueChange=function(e){this.triggerValueChange(e.currentTarget.value)},t.prototype.onCheckboxChange=function(e){this.triggerValueChange(e.currentTarget.checked)},t.prototype.renderDropDown=function(){var e=(this.props.definition.values||[]).map(function(e,t){return r.createElement("option",{key:t,value:e.value},e.text)});return r.createElement("select",{id:this.state.uniqueId,value:this.props.value,onChange:this.onSelectValueChange},e)},t.prototype.renderTextInput=function(){return void 0!==this.props.definition.textRows&&this.props.definition.textRows>1?r.createElement("textarea",{id:this.state.uniqueId,value:this.props.value,onChange:this.onTextareaChange,rows:this.props.definition.textRows}):r.createElement("input",{type:"text",id:this.state.uniqueId,value:this.props.value,onChange:this.onInputChange})},t.prototype.renderNumberInput=function(){var e="number";return void 0!==this.props.definition.minValue&&void 0!==this.props.definition.maxValue&&(e="range"),r.createElement("input",{type:e,id:this.state.uniqueId,value:this.props.value,onChange:this.onInputChange,step:this.props.definition.stepSize,min:this.props.definition.minValue,max:this.props.definition.maxValue})},t.prototype.renderBooleanInput=function(){return r.createElement("input",{type:"checkbox",id:this.state.uniqueId,value:this.props.value,onChange:this.onCheckboxChange})},t.prototype.renderStyleInput=function(){return r.createElement(ve,{value:this.props.value,onChange:this.triggerValueChange})},t.prototype.renderWebComponentInput=function(){return r.createElement(Xe,{webComponentId:this.props.value,onChange:this.triggerValueChange})},t.prototype.toggleItemDetails=function(){this.setState(function(e){return{detailsVisible:!e.detailsVisible}})},t.prototype.renderItemHeader=function(){var e=null,t=null;this.props.definition.isArray?(e="("+(this.props.value||[]).length+" items)",t=b.faList):"string"===this.props.definition.valueType?e=this.props.value:"style"===this.props.definition.valueType?(e=JSON.stringify(this.props.value),t=J.a):"webComponent"===this.props.definition.valueType&&(e=this.props.value||"Component",t=ae.d);return r.createElement(B,{className:"item-header",onClick:this.toggleItemDetails},r.createElement("label",null,this.props.children,t&&r.createElement(B,null,r.createElement(w.FontAwesomeIcon,{icon:t})),r.createElement("span",{className:"header-text"},this.props.definition.displayName)),r.createElement("span",{className:"sub-header-text"},e),r.createElement(B,null,r.createElement(w.FontAwesomeIcon,{icon:this.state.detailsVisible?b.faCaretDown:b.faCaretRight})))},t.prototype.renderLabel=function(){return this.state.hasDetails?this.renderItemHeader():r.createElement("label",{htmlFor:this.state.uniqueId},this.props.children,r.createElement("span",{className:"header-text"},this.props.definition.displayName))},t.prototype.renderInput=function(){return this.state.hasDetails?r.createElement("div",{className:"item-details",hidden:!this.state.detailsVisible,"data-isarray":this.props.definition.isArray?"true":"false"},this.renderInputControl()):this.renderInputControl()},t.prototype.renderInputControl=function(){if(this.props.definition.isArray)return this.renderArray();if(this.props.definition.values&&this.props.definition.values.length)return this.renderDropDown();switch(this.props.definition.valueType){case"number":return this.renderNumberInput();case"boolean":return this.renderBooleanInput();case"string":return this.renderTextInput();case"object":return this.renderObject();case"style":return this.renderStyleInput();case"webComponent":return this.renderWebComponentInput()}return null},t.prototype.render=function(){return r.createElement("div",{className:"OptionItem","data-hasdetails":this.state.hasDetails?"true":"false","data-detailsvisible":this.state.detailsVisible?"true":"false","data-valuetype":this.props.definition.valueType},this.renderLabel(),this.renderInput())},t}(r.Component),nt=(n(183),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),ot=function(){return(ot=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},rt=function(e){function t(t){var n=e.call(this,t)||this;return n.valueChange=n.valueChange.bind(n),n}return nt(t,e),t.prototype.valueChange=function(e,t){var n=ot({},this.props.value);n[e.name]=t,this.props.valueChange(n)},t.prototype.render=function(){var e=this;return this.props.fields&&this.props.fields.length?r.createElement("div",{className:"OptionList"},this.props.fields.map(function(t){var n=e.props.value&&e.props.value[t.name];return r.createElement(tt,{key:t.name,definition:t,value:n,valueChange:e.valueChange})})):null},t}(r.Component),it=(n(185),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),st=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},at=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},ct=function(e){function t(t){var n=e.call(this,t)||this,o=n.setDefaultValues(t.options||{});return n.state={newOptions:o,formContext:new Ke},n.cancel=n.cancel.bind(n),n.save=n.save.bind(n),n.reset=n.reset.bind(n),n.optionsChange=n.optionsChange.bind(n),n}return it(t,e),t.prototype.setDefaultValues=function(e){return this.props.fields.forEach(function(t){var n=e[t.name];void 0===n&&void 0!==(n=ce(t))&&(e[t.name]=n)}),e},t.prototype.reset=function(){var e=this.setDefaultValues(this.props.options||{});this.setState({newOptions:e})},t.prototype.save=function(){return st(this,void 0,void 0,function(){return at(this,function(e){switch(e.label){case 0:return[4,this.state.formContext.onSave.publish()];case 1:return e.sent(),[2,this.props.onSave(this.state.newOptions)]}})})},t.prototype.cancel=function(){return this.props.onCancel&&this.props.onCancel()},t.prototype.optionsChange=function(e){this.setState({newOptions:e})},t.prototype.renderTitle=function(){return r.createElement(M,null,r.createElement(w.FontAwesomeIcon,{icon:this.props.icon})," ",this.props.title)},t.prototype.renderContent=function(){return r.createElement(Qe.Provider,{value:this.state.formContext},r.createElement(rt,{fields:this.props.fields,value:this.state.newOptions,valueChange:this.optionsChange}))},t.prototype.renderFooter=function(){return r.createElement(Q,{divider:"half"},this.props.onCancel&&r.createElement(B,{onClick:this.cancel},r.createElement(w.FontAwesomeIcon,{icon:b.faTimes})," Cancel"),this.props.showReset&&r.createElement(B,{onClick:this.reset},r.createElement(w.FontAwesomeIcon,{icon:b.faUndo})," Reset"),r.createElement(B,{onClick:this.save},r.createElement(w.FontAwesomeIcon,{icon:b.faSave})," Save"))},t.prototype.render=function(){var e="OptionCard "+this.props.className;return r.createElement(D,{className:e},this.renderTitle(),this.renderContent(),r.createElement(j,{className:"debug",style:{whiteSpace:"pre"}},JSON.stringify(this.state.newOptions,void 0,2)),this.renderFooter())},t}(r.Component),lt=(n(187),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),ut=function(e){function t(t){var n=e.call(this,t)||this;return n.onEdit=n.onEdit.bind(n),n.onDelete=n.onDelete.bind(n),n}return lt(t,e),t.prototype.onEdit=function(){return this.props.onEdit(this.props.page)},t.prototype.onDelete=function(){return this.props.onDelete(this.props.page)},t.prototype.renderTitle=function(){return r.createElement(M,null,r.createElement(w.FontAwesomeIcon,{icon:ae.d})," ",this.props.page.title," (",this.props.page.path,")")},t.prototype.renderPath=function(){return r.createElement(j,{className:"path"},this.props.page.path)},t.prototype.renderFooter=function(){return r.createElement(Q,{divider:"half"},r.createElement(B,{onClick:this.onEdit},r.createElement(w.FontAwesomeIcon,{icon:ae.c})," Edit"),r.createElement(B,{onClick:this.onDelete},r.createElement(w.FontAwesomeIcon,{icon:ae.e})," Delete"))},t.prototype.render=function(){return r.createElement(D,{className:"PageCard"},this.renderTitle(),this.renderFooter())},t}(r.Component),pt=[{description:"Path",defaultValue:"/",displayName:"Path",name:"path",valueType:"string"},{description:"Title",defaultValue:"New Page",displayName:"Title",name:"title",valueType:"string"},{description:"Content",displayName:"Content",name:"webComponentId",valueType:"webComponent"},{description:"Style",displayName:"Style",name:"style",valueType:"style"}],ht=(n(189),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),dt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!0,pages:[],showPageDetailsDialog:!1},n.loadPages=n.loadPages.bind(n),n.savePage=n.savePage.bind(n),n.hidePageDetailsDialog=n.hidePageDetailsDialog.bind(n),n.showPageDetailsDialog=n.showPageDetailsDialog.bind(n),n.confirmPageDeletion=n.confirmPageDeletion.bind(n),n}return ht(t,e),t.prototype.componentDidMount=function(){this.loadPages()},t.prototype.loadPages=function(){var e=this;return this.setState({loading:!0}),g.getWebPages().then(function(t){return e.setState({pages:t,loading:!1})}).catch(function(t){return e.setState({loading:!1})})},t.prototype.savePage=function(e){return g.setWebPage(void 0,e).then(this.hidePageDetailsDialog).then(g.getWebPages.clearCache).then(this.loadPages).catch(function(e){return console.log(e)})},t.prototype.deletePage=function(e){return g.deleteWebPage(e).then(this.hidePageDetailsDialog).then(g.getWebPages.clearCache).then(this.loadPages).catch(function(e){return console.log(e)})},t.prototype.showPageDetailsDialog=function(e){this.setState({showPageDetailsDialog:!0,selectedPage:e})},t.prototype.hidePageDetailsDialog=function(){this.setState({showPageDetailsDialog:!1,selectedPage:void 0})},t.prototype.confirmPageDeletion=function(e){window.confirm("Delete?")&&this.deletePage(e)},t.prototype.renderPageCards=function(){var e=this;return this.state.loading?r.createElement(k,null,r.createElement(F,null)):r.createElement(k,null,this.state.pages.map(function(t,n){return r.createElement(ut,{key:n,page:t,onEdit:e.showPageDetailsDialog,onDelete:e.confirmPageDeletion})}))},t.prototype.renderPageAddCard=function(){return r.createElement(k,null,r.createElement(D,{className:"AddPageCard"},r.createElement(B,{className:"addButton",onClick:this.showPageDetailsDialog},r.createElement(w.FontAwesomeIcon,{icon:b.faPlus})," Add Page")))},t.prototype.renderPageDetailsDialog=function(){if(!this.state.showPageDetailsDialog)return null;var e=this.state.selectedPage,t=e?"Edit Page":"Add Page";return r.createElement(U,null,r.createElement(ct,{icon:ae.d,title:t,fields:pt,onSave:this.savePage,onCancel:this.hidePageDetailsDialog,options:e||{}}))},t.prototype.render=function(){return r.createElement("section",{className:"PageManagerPage"},this.renderPageAddCard(),this.renderPageCards(),this.renderPageDetailsDialog())},t}(r.Component),ft=(n(191),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),mt=function(e){function t(t){var n=e.call(this,t)||this;return n.showOptions=n.showOptions.bind(n),n.showLog=n.showLog.bind(n),n}return ft(t,e),t.prototype.showOptions=function(){return this.props.onShowOptions(this.props.service)},t.prototype.showLog=function(){return this.props.onShowLog(this.props.service)},t.prototype.renderTitle=function(){return r.createElement(M,null,r.createElement(w.FontAwesomeIcon,{icon:b.faCogs})," ",this.props.service.name)},t.prototype.renderDescription=function(){return r.createElement(j,{className:"description"},this.props.service.description||"no description")},t.prototype.renderFooter=function(){return r.createElement(Q,{divider:"half"},r.createElement(B,{onClick:this.showLog},r.createElement(w.FontAwesomeIcon,{icon:ae.d})," Log"),r.createElement(B,{onClick:this.showOptions},r.createElement(w.FontAwesomeIcon,{icon:b.faCog})," Options"))},t.prototype.render=function(){return r.createElement(D,{className:"ServiceCard"},this.renderTitle(),this.renderDescription(),this.renderFooter())},t}(r.Component),yt=(n(193),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),vt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={groupOpen:!1},n.toggleGroup=n.toggleGroup.bind(n),n}return yt(t,e),t.prototype.toggleGroup=function(){this.setState(function(e){return{groupOpen:!e.groupOpen}})},t.prototype.render=function(){var e=this;return r.createElement("section",{className:"ServiceGroup"},r.createElement(B,{className:"group-header",onClick:this.toggleGroup},r.createElement(w.FontAwesomeIcon,{icon:b.faCube})," ",this.props.moduleName," (",this.props.services.length,")",r.createElement(w.FontAwesomeIcon,{icon:this.state.groupOpen?b.faArrowDown:b.faArrowRight})),this.state.groupOpen&&r.createElement(k,null,this.props.services.map(function(t){return r.createElement(mt,{key:t.name,service:t,onShowLog:e.props.onShowServiceLog,onShowOptions:e.props.onShowServiceOptions})})))},t}(r.Component),gt=(n(195),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),bt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loadingServices:!0,loadingServiceOptions:!1,services:[],showOptions:!1,showLog:!1,selectedService:void 0,selectedServiceOptions:void 0},n.showLog=n.showLog.bind(n),n.closeLog=n.closeLog.bind(n),n.showOptions=n.showOptions.bind(n),n.closeOptions=n.closeOptions.bind(n),n.loadOptions=n.loadOptions.bind(n),n.saveOptions=n.saveOptions.bind(n),n.optionsChange=n.optionsChange.bind(n),n}return gt(t,e),t.prototype.componentDidMount=function(){this.loadServices()},t.prototype.loadServices=function(){var e=this;return g.getAllServices().then(function(t){return e.setState({services:t,loadingServices:!1})}).catch(function(t){return e.setState({loadingServices:!1})})},t.prototype.showLog=function(e){this.setState({showLog:!0,selectedService:e})},t.prototype.showOptions=function(e){this.setState({showOptions:!0,selectedService:e,selectedServiceOptions:void 0},this.loadOptions)},t.prototype.closeOptions=function(){this.setState({showOptions:!1,selectedService:void 0})},t.prototype.closeLog=function(){this.setState({showLog:!1,selectedService:void 0})},t.prototype.loadOptions=function(){var e=this;this.state.selectedService&&(this.setState({loadingServiceOptions:!0}),g.getServiceOptions({moduleName:this.state.selectedService.moduleName,serviceName:this.state.selectedService.name}).then(function(t){e.setState({selectedServiceOptions:t,loadingServiceOptions:!1})}))},t.prototype.optionsChange=function(e){this.setState({selectedServiceOptions:e})},t.prototype.saveOptions=function(){this.state.selectedService&&(g.setServiceOptions({moduleName:this.state.selectedService.moduleName,serviceName:this.state.selectedService.name},this.state.selectedServiceOptions),this.closeOptions())},t.prototype.renderServiceOptionsDialog=function(){if(!this.state.showOptions||!this.state.selectedService)return null;if(this.state.loadingServiceOptions)return r.createElement(U,null,r.createElement(F,null));var e="Options for "+this.state.selectedService.displayName;return r.createElement(U,null,r.createElement(ct,{icon:b.faCogs,showReset:!0,title:e,fields:this.state.selectedService.fields||[],options:this.state.selectedServiceOptions,onSave:this.saveOptions,onCancel:this.closeOptions}))},t.prototype.renderServiceLogDialog=function(){return this.state.showLog&&this.state.selectedService?r.createElement(U,null,r.createElement(D,{className:"ServiceLogCard"},r.createElement(M,null,r.createElement(w.FontAwesomeIcon,{icon:ae.d})," Log for ",this.state.selectedService.displayName),r.createElement(j,null,r.createElement("ul",null,this.state.selectedService.log.map(function(e){return r.createElement("li",null,e)}))),r.createElement(Q,{divider:"full"},r.createElement(B,{onClick:this.closeLog},r.createElement(w.FontAwesomeIcon,{icon:b.faTimes})," Close")))):null},t.prototype.renderServiceGroups=function(){var e=this;return this.state.loadingServices?r.createElement(N,{center:!0}):this.state.services.map(function(e){return e.moduleName}).filter(wt).map(function(t){var n=e.state.services.filter(function(e){return e.moduleName===t});return r.createElement(vt,{key:t,moduleName:t,services:n,onShowServiceLog:e.showLog,onShowServiceOptions:e.showOptions})})},t.prototype.render=function(){return r.createElement("section",{className:"ServiceManagerPage"},this.renderServiceGroups(),this.renderServiceOptionsDialog(),this.renderServiceLogDialog())},t}(r.Component);function wt(e,t,n){return n.indexOf(e)===t}var Ct=[{description:"Language",displayName:"Language",name:"lang",valueType:"string",values:[{value:"de-DE",text:"German"},{value:"en-GB",text:"English"},{value:"fr-FR",text:"French"}]},{description:"Location",displayName:"Location",name:"location",valueType:"string"},{description:"Timezone",displayName:"Timezone",name:"timezone",valueType:"string",values:[{value:"Europe/Berlin",text:"Europe/Berlin"},{value:"Europe/London",text:"Europe/London"},{value:"Asia/Tokyo",text:"Asia/Tokyo"},{value:"America/New_York",text:"America/New York"}]},{description:"Path of page to show on startup",displayName:"Startup Path",name:"startupPath",valueType:"string"},{description:"Sample Checkbox",displayName:"Checkbox",name:"cb1",valueType:"boolean"},{description:"Sample Object",displayName:"Object",fields:[{description:"Sample Text",displayName:"Text",name:"stringValue",valueType:"string"},{description:"Sample Number",displayName:"Number",minValue:0,maxValue:50,stepSize:5,name:"numericValue",valueType:"number"},{description:"Sample Checkbox",displayName:"Checkbox",name:"booleanValue",valueType:"boolean"},{description:"Sample DropDown",displayName:"DropDown",name:"value",valueType:"string",values:[{value:"111",text:"1st Item"},{value:"222",text:"2nd Item"},{value:"333",text:"3rd Item"}]}],name:"obj1",valueType:"object"},{description:"Sample Array",displayName:"Array",isArray:!0,name:"arr1",valueType:"string"},{description:"Sample Array",displayName:"Array",isArray:!0,fields:[{description:"Sample Text",displayName:"Text",name:"stringValue",valueType:"string"},{description:"Sample Number",displayName:"Number",name:"numericValue",valueType:"number"},{description:"Sample Component",displayName:"Component",name:"content",valueType:"webComponent"}],name:"arr2",valueType:"object"}],Et=(n(197),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),_t=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!0},n.loadSettings=n.loadSettings.bind(n),n.saveSettings=n.saveSettings.bind(n),n}return Et(t,e),t.prototype.componentDidMount=function(){this.loadSettings()},t.prototype.loadSettings=function(){var e=this;return g.getSettings().then(function(t){return e.setState({settings:t,loading:!1})}).catch()},t.prototype.saveSettings=function(e){return g.setSettings(void 0,e).then(g.getSettings.clearCache).catch()},t.prototype.render=function(){return r.createElement("section",{className:"SettingsManagerPage"},this.state.loading&&r.createElement(k,null,r.createElement(F,null)),this.state.settings&&r.createElement(k,null,r.createElement(ct,{options:this.state.settings,onSave:this.saveSettings,fields:Ct,icon:b.faCogs,title:"Settings",showReset:!0})))},t}(r.Component),Ot=(n(199),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),St=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n.exitApplication=n.exitApplication.bind(n),n.restartApplication=n.restartApplication.bind(n),n.shutdownSystem=n.shutdownSystem.bind(n),n.rebootSystem=n.rebootSystem.bind(n),n.resetApplication=n.resetApplication.bind(n),n}return Ot(t,e),t.prototype.componentDidMount=function(){var e=this;g.getServerInfo().then(function(t){return e.setState({info:t})})},t.prototype.exitApplication=function(){return g.exitApplication()},t.prototype.restartApplication=function(){return g.restartApplication()},t.prototype.shutdownSystem=function(){return g.shutdownSystem()},t.prototype.rebootSystem=function(){return g.rebootSystem()},t.prototype.resetApplication=function(){return g.resetApplication()},t.prototype.renderInformationCard=function(){var e;if(this.state.info){var t=Math.round(this.state.info.memory.free/1024/1024),n=Math.round(this.state.info.memory.total/1024/1024);e=r.createElement("ul",null,r.createElement("li",null,r.createElement("span",null,"Version"),r.createElement("span",null,this.state.info.version)),r.createElement("li",null,r.createElement("span",null,"CPU"),r.createElement("span",null,this.state.info.cpu.count," x ",this.state.info.cpu.speed," MHz")),r.createElement("li",null,r.createElement("span",null,"Memory"),r.createElement("span",null,t," MB / ",n," MB")),r.createElement("li",null,r.createElement("span",null,"IP"),r.createElement("span",null,this.state.info.ip)),r.createElement("li",null,r.createElement("span",null,"Hostname"),r.createElement("span",null,this.state.info.hostname)))}else e=r.createElement(N,null);return r.createElement(D,{className:"information"},r.createElement(M,null,"Information"),r.createElement(j,null,e))},t.prototype.renderApplicationCard=function(){return r.createElement(D,null,r.createElement(M,null,"Application"),r.createElement(Q,{divider:"half"},r.createElement(B,{onClick:this.exitApplication},r.createElement(w.FontAwesomeIcon,{icon:b.faSignOutAlt})," Exit"),r.createElement(B,{onClick:this.restartApplication},r.createElement(w.FontAwesomeIcon,{icon:b.faRedo})," Restart")))},t.prototype.renderSystemCard=function(){return r.createElement(D,null,r.createElement(M,null,"System"),r.createElement(Q,{divider:"half"},r.createElement(B,{onClick:this.shutdownSystem},r.createElement(w.FontAwesomeIcon,{icon:b.faPowerOff})," Shutdown"),r.createElement(B,{onClick:this.rebootSystem},r.createElement(w.FontAwesomeIcon,{icon:b.faRedo})," Reboot")))},t.prototype.renderDangerCard=function(){return r.createElement(D,{className:"danger"},r.createElement(M,null,"Danger Zone"),r.createElement(Q,null,r.createElement(B,{onClick:this.resetApplication},r.createElement(w.FontAwesomeIcon,{icon:b.faExclamationTriangle})," Reset Application")))},t.prototype.render=function(){return r.createElement("section",{className:"SystemPage"},r.createElement(k,null,this.renderInformationCard(),this.renderApplicationCard(),this.renderSystemCard(),this.renderDangerCard()))},t}(r.Component),Pt=(n(201),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pt(t,e),t.prototype.render=function(){return r.createElement("section",{className:"Admin"},r.createElement("header",null,r.createElement(O,{to:"/"},r.createElement(w.FontAwesomeIcon,{icon:b.faHome})," Home"),r.createElement("div",{className:"title"},"Reactron Admin")),r.createElement(se,null),r.createElement("div",{className:"content"},r.createElement(a.a,null,r.createElement(c.a,{path:"/admin/ModuleManager",component:oe}),r.createElement(c.a,{path:"/admin/ServiceManager",component:bt}),r.createElement(c.a,{path:"/admin/Pages",component:dt}),r.createElement(c.a,{path:"/admin/Settings",component:_t}),r.createElement(c.a,{path:"/admin/System",component:St}),r.createElement(C.a,{to:"/admin/ModuleManager"}))))},t}(r.Component),At=(n(203),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),kt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return At(t,e),t.prototype.render=function(){return r.createElement("div",{className:"PageNotFound"},r.createElement("h1",null,r.createElement(w.FontAwesomeIcon,{icon:b.faQuestionCircle})," 404"),r.createElement("h2",null,"No page defined for path: ",this.props.location.pathname),r.createElement(O,{to:"/admin"},r.createElement(w.FontAwesomeIcon,{icon:b.faCog})," Admin"),r.createElement(O,{to:"/"},r.createElement(w.FontAwesomeIcon,{icon:b.faHome})," Home"))},t}(r.Component),It=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dt=function(){return(Dt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},xt=function(e){function t(t,n,o){var i=e.call(this,t)||this;return i.componentName=n,i.options=o,i.renderComponent=function(e){return r.createElement(Vt,Dt({},e))},i.renderLoading=function(e,t){return r.createElement(N,{text:e,iconSize:t})},i}return It(t,e),t}(l),jt=(n(205),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jt(t,e),t.prototype.render=function(){var e=[];return this.props.id&&e.push("Id: "+this.props.id),this.props.componentName&&e.push("Component: "+this.props.componentName),this.props.moduleName&&e.push("Module: "+this.props.moduleName),r.createElement("section",{className:"ComponentNotFound"},r.createElement(w.FontAwesomeIcon,{icon:b.faExclamationTriangle,size:this.props.iconSize}),r.createElement("div",{className:"text"},"Component not found: ",e.join(" | ")),r.createElement(O,{to:"/admin"},r.createElement(w.FontAwesomeIcon,{icon:b.faCog})," Admin"))},t.defaultProps={iconSize:"4x"},t}(r.Component),Mt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:null},n}return Mt(t,e),t.prototype.componentDidCatch=function(e,t){console.log(e),console.log(t),this.setState({error:e})},t.prototype.render=function(){return this.state.error?r.createElement("h1",null,"Something went wrong."):this.props.children},t}(r.Component),Ft=(n(207),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Rt=function(){return(Rt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Lt=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},Ut=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Vt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return Ft(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.id===e.id&&this.props.moduleName===e.moduleName&&this.props.componentName===e.componentName&&this.props.options===e.options||this.loadComponent()},t.prototype.componentDidMount=function(){this.loadComponent()},t.prototype.loadComponent=function(){return Lt(this,void 0,void 0,function(){var e,t,n,o,r,i,s=this;return Ut(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),e=void 0,this.props.id?[4,g.getWebComponentOptions()]:[3,2];case 1:return t=a.sent(),e=t.find(function(e){return e.id===s.props.id}),[3,3];case 2:this.props.moduleName&&this.props.componentName&&(e={id:"",moduleName:this.props.moduleName,componentName:this.props.componentName,options:this.props.options}),a.label=3;case 3:return e?[4,Be.getModuleComponents(e.moduleName)]:(this.setState({componentFound:!1}),[2]);case 4:return(n=a.sent())?(o=e.componentName,(r=n.find(function(e){return e.name===o}))&&r.component?(this.setState({componentProps:new xt(e.moduleName,e.componentName,e.options),componentDefinition:r,componentOptions:e,componentFound:!0}),[3,6]):(this.setState({componentFound:!1}),[2])):(this.setState({componentFound:!1}),[2]);case 5:return i=a.sent(),console.log(i),this.setState({componentFound:!1}),[3,6];case 6:return[2]}})})},t.prototype.render=function(){var e=r.createElement(N,{center:!0});if(!1===this.state.componentFound&&(e=r.createElement(Tt,Rt({},this.props))),this.state.componentDefinition&&this.state.componentDefinition.component&&this.state.componentProps){var t=this.state.componentDefinition.component;e=r.createElement(t,Rt({},this.state.componentProps))}return r.createElement("section",{className:"WebComponent"},r.createElement(Wt,null,e))},t}(r.Component),Bt=(n(209),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Gt=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((o=o.apply(e,t||[])).next())})},zt=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ht=function(e){function t(t){var n=e.call(this,t)||this;return n.reloadWait=2e3,n.state={},n.reload=n.reload.bind(n),n.triggerReload=n.triggerReload.bind(n),n}return Bt(t,e),t.prototype.componentDidMount=function(){this.loadPages(),u.topics&&(u.topics.subscribe("pages-updated",this.triggerReload),u.topics.subscribe("components-updated",this.triggerReload),u.topics.subscribe("system-settings-updated",this.triggerReload))},t.prototype.loadPages=function(){return Gt(this,void 0,void 0,function(){var e;return zt(this,function(t){switch(t.label){case 0:return[4,g.getWebPages()];case 1:return e=t.sent(),[2,this.setState({pages:e})]}})})},t.prototype.triggerReload=function(){console.log("triggerReload",arguments),window.clearTimeout(this.reloadTimer),this.reloadTimer=window.setTimeout(this.reload,this.reloadWait)},t.prototype.reload=function(){g.getWebPages.clearCache(),g.getWebComponentOptions.clearCache(),this.loadPages()},t.prototype.renderPage=function(e,t){return function(){return r.createElement("section",{className:"WebPage",style:t},r.createElement(Vt,{id:e}))}},t.prototype.render=function(){var e=this,t=r.createElement(N,{text:"Loading Reactron...",center:!0});return this.state.pages&&(t=r.createElement(s.a,null,r.createElement(a.a,null,r.createElement(c.a,{path:"/admin",component:Nt}),this.state.pages.map(function(t){return r.createElement(c.a,{key:t.path,path:t.path,exact:!0,component:e.renderPage(t.webComponentId,t.style)})}),r.createElement(c.a,{component:kt})))),r.createElement("section",{className:"App"},t)},t}(r.Component);n(211);i.render(r.createElement(Wt,null,r.createElement(Ht,null)),document.getElementById("root"))},38:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},39:function(e,t,n){e.exports=n(213)},47:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){}},[[39,2,1]]]);
//# sourceMappingURL=main.7a6cc7e7.chunk.js.map