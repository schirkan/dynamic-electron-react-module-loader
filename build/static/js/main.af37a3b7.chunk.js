(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,n){},153:function(e,t,n){},155:function(e,t,n){},158:function(e,t,n){},160:function(e,t,n){},162:function(e,t,n){},169:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var o,r,i,a,s=n(0),c=n.n(s),u=n(20),p=n(9),l=n.n(p),f=n(38),m=n(39),d=n(28);window.require&&(o=window.require("electron"),r=o.remote.require("./dist/server/BackendService").BackendService.instance,i=r.topics,a=o.remote.require("electron-store"));var h,y={},v={},w=function(){return function(e){var t=this;this.moduleName=e,this.electron=o,this.backendService=r,this.topics=i;var n="module."+e;a&&!y[n]&&(y[n]=new a({name:"module."+e})),this.moduleStorage=y[n];var s=e.replace("/","@");this.moduleApiPath="/api/modules/"+s,this.getService=function(n,o){if(t.backendService){var r=(o||e)+"."+n;return v[r]||(v[r]=t.backendService.serviceManager.get(o||e,n)),v[r]}console.log("Method getService() is not supported in browser environment.")}}}(),b=new w("reactron"),g=function(){return function(e,t){this.path=e,this.method=t}}(),_={getServices:new g("/service/","get"),getServiceOptions:new g("/service/:moduleName/:serviceName","get"),setServiceOptions:new g("/service/:moduleName/:serviceName","post"),getModules:new g("/modules/","get"),addModule:new g("/modules/","post"),deleteModule:new g("/modules/:moduleName","delete"),rebuildModule:new g("/modules/:moduleName/rebuild","post"),updateModule:new g("/modules/:moduleName/update","post"),checkUpdates:new g("/modules/checkUpdates/update","get"),getWebPages:new g("/pages/","get"),setWebPage:new g("/pages/","post"),deleteWebPage:new g("/pages/:id","delete"),getServerInfo:new g("/app/","get"),exitApplication:new g("/app/exitApplication","post"),restartApplication:new g("/app/restartApplication","post"),shutdownSystem:new g("/app/shutdownSystem","post"),rebootSystem:new g("/app/restartSystem","post"),resetApplication:new g("/app/resetApplication","post"),getSettings:new g("/settings/","get"),setSettings:new g("/settings/","post"),getWebComponentOptions:new g("/components/","get"),setWebComponentOptions:new g("/components/","post"),deleteWebComponentOptions:new g("/components/:id","delete")},O=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},C=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},N=function(){function e(){this.getAllServices=S(_.getServices,!0),this.getServiceOptions=S(_.getServiceOptions),this.setServiceOptions=S(_.setServiceOptions),this.getModules=S(_.getModules,!0),this.addModule=S(_.addModule),this.checkUpdates=S(_.checkUpdates),this.deleteModule=S(_.deleteModule),this.rebuildModule=S(_.rebuildModule),this.updateModule=S(_.updateModule),this.getWebPages=S(_.getWebPages,!0),this.setWebPage=S(_.setWebPage),this.deleteWebPage=S(_.deleteWebPage),this.getServerInfo=S(_.getServerInfo),this.exitApplication=S(_.exitApplication),this.restartApplication=S(_.restartApplication),this.shutdownSystem=S(_.shutdownSystem),this.rebootSystem=S(_.rebootSystem),this.resetApplication=S(_.resetApplication),this.getSettings=S(_.getSettings,!0),this.setSettings=S(_.setSettings),this.getWebComponentOptions=S(_.getWebComponentOptions,!0),this.setWebComponentOptions=S(_.setWebComponentOptions),this.deleteWebComponentOptions=S(_.deleteWebComponentOptions)}return e.prototype.clearCache=function(){var e=this;Object.keys(this).forEach(function(t){e[t]&&e[t].clearCache&&e[t].clearCache()})},e}(),S=function(e,t){var n;void 0===t&&(t=!1);var o=e.method.toLocaleLowerCase(),r=function(r,i){if(t&&n)return Promise.resolve(n);var a=e.path;return r&&Object.keys(r).forEach(function(e){a=a.replace(":"+e,r[e])}),fetch(b.moduleApiPath+a,{method:o,body:i&&JSON.stringify(i),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){return O(void 0,void 0,void 0,function(){var t;return C(this,function(n){switch(n.label){case 0:return[4,e.text()];case 1:if(t=n.sent(),e.status.toString().startsWith("2"))return t?[2,JSON.parse(t)]:[2,void 0];throw console.log(t),Error(t)}})})}).then(function(e){return t&&(n=e),e})};return r.clearCache=function(){n=void 0},r},E=new N,P=n(6),x=n(7),j=n(40),A=(n(56),h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.render=function(){return s.createElement("section",{className:j("Loading",{center:this.props.center})},s.createElement(x.FontAwesomeIcon,{icon:P.faSpinner,size:this.props.iconSize,spin:!0}),this.props.text&&s.createElement("div",{className:"text"},this.props.text))},t.defaultProps={iconSize:"4x"},t}(s.Component),T=n(13),k=(n(58),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.render=function(){return s.createElement(T.a,{className:"RoundButton",to:this.props.to,role:"button"},this.props.children)},t}(s.Component),W=(n(60),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.render=function(){return s.createElement("div",{className:"PageNotFound"},s.createElement("h1",null,s.createElement(x.FontAwesomeIcon,{icon:P.faQuestionCircle})," 404"),s.createElement("h2",null,"No page defined for path: ",this.props.location.pathname),s.createElement(M,{to:"/admin"},s.createElement(x.FontAwesomeIcon,{icon:P.faCog})," Admin"),s.createElement(M,{to:"/"},s.createElement(x.FontAwesomeIcon,{icon:P.faHome})," Home"))},t}(s.Component),F=n(16),R=n(41),G=n(42),D=n(43),z=n.n(D),V=n(19),H=(n(64),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),U={component:function(e){function t(t){return e.call(this,t)||this}return H(t,e),t.prototype.render=function(){return s.createElement("section",{className:"CarouselLayout"},"CarouselLayout")},t}(s.Component),description:"Carousel Layout",displayName:"Carousel Layout",name:"CarouselLayout",type:"layout",fields:[]},B=(n(66),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),q=function(){return(q=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},J={component:function(e){function t(t){var n=e.call(this,t)||this;return n.renderTile=n.renderTile.bind(n),n}return B(t,e),t.prototype.renderTile=function(e,t){var n=q({},this.props.tileStyle,e.style);return n.gridColumn=e.col.toString(),e.colspan>1&&(n.gridColumn+=" / span "+e.colspan),n.gridRow=e.row.toString(),e.rowspan>1&&(n.gridRow+=" / span "+e.rowspan),s.createElement("div",{className:"GridTile",key:t,style:n},this.context.renderComponent({id:e.content}))},t.prototype.render=function(){return s.createElement("section",{className:"GridLayout",style:this.props.gridStyle},this.props.tiles.map(this.renderTile))},t}(s.Component),description:"Grid Layout",displayName:"Grid Layout",name:"GridLayout",type:"layout",fields:[{displayName:"Grid Style",name:"gridStyle",valueType:"style"},{displayName:"Tile Style",name:"tileStyle",valueType:"style"},{displayName:"Grid tiles",name:"tiles",valueType:"object",isArray:!0,fields:[{displayName:"Row",name:"row",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Column",name:"col",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Row span",name:"rowspan",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Column span",name:"colspan",valueType:"number",defaultValue:1,stepSize:1,minValue:1,maxValue:20},{displayName:"Content",name:"content",valueType:"webComponent"},{displayName:"Style",name:"style",valueType:"style"}],inputControl:{module:"reactron",component:"GridLayoutTileHeader"}}]},Q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),K={width:"100%",textOverflow:"ellipsis",overflow:"hidden"},X={component:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.render=function(){var e=this.props.value||{};return c.a.createElement("div",{style:K},"[ ",e.row," | ",e.col," | ",e.content," ]")},t}(c.a.Component),displayName:"GridLayoutTileHeader",name:"GridLayoutTileHeader",type:"admin-input"},Y=(n(68),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Z={component:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Y(t,e),t.prototype.render=function(){return s.createElement("iframe",{className:"ui-iframe",src:this.props.url})},t}(s.Component),description:"IFrame Component",displayName:"IFrame",name:"IFrame",fields:[{displayName:"URL",name:"url",valueType:"string"}]},$=(n(70),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),ee=function(){return(ee=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},te={component:function(e){function t(t){var n=e.call(this,t)||this;return n.renderListItem=n.renderListItem.bind(n),n}return $(t,e),t.prototype.renderListItem=function(e,t){var n=ee({},this.props.itemStyle,e.style);return s.createElement("div",{className:"ListItem",key:t,style:n},this.context.renderComponent({id:e.content}))},t.prototype.render=function(){return s.createElement("section",{className:"ListLayout"},this.props.items.map(this.renderListItem))},t}(s.Component),description:"List Layout",displayName:"List Layout",name:"ListLayout",type:"layout",fields:[{displayName:"List Style",name:"listStyle",valueType:"style"},{displayName:"Item Style",name:"itemStyle",valueType:"style"},{displayName:"List items",name:"items",valueType:"object",isArray:!0,fields:[{displayName:"Content",name:"content",valueType:"webComponent"},{displayName:"Style",name:"style",valueType:"style"}],inputControl:{module:"reactron",component:"ListLayoutItemHeader"}}]},ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oe={width:"100%",textOverflow:"ellipsis",overflow:"hidden"},re={component:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ne(t,e),t.prototype.render=function(){var e=this.props.value||{};return c.a.createElement("div",{style:oe},"[ ",e.content," ]")},t}(c.a.Component),displayName:"ListLayoutItemHeader",name:"ListLayoutItemHeader",type:"admin-input"},ie=n(44),ae=(n(151),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),se={component:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.render=function(){return s.createElement("section",{className:"MarkDown"},s.createElement(ie,{source:this.props.text}))},t}(s.Component),description:"MarkDown Component",displayName:"MarkDown",name:"MarkDown",fields:[{displayName:"Text",name:"text",valueType:"string",textRows:10}]},ce=(n(153),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),ue={component:function(e){function t(t){return e.call(this,t)||this}return ce(t,e),t.prototype.render=function(){return s.createElement("section",{className:"Notifications"},"Notifications")},t}(s.Component),description:"Notifications",displayName:"Notifications",name:"Notifications",fields:[]},pe=n(45),le=n.n(pe),fe=(n(155),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),me=[te,re,U,J,X,{component:function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return fe(t,e),t.prototype.componentDidMount=function(){var e=this;E.getServerInfo().then(function(t){e.setState({info:t})})},t.prototype.render=function(){var e;return this.state.info&&(e=s.createElement("div",{className:"info"},"To edit this page click Admin-Button or visit",s.createElement("br",null),s.createElement("br",null),s.createElement("i",null,"http://",this.state.info.ip,":3000/admin"))),s.createElement("section",{className:"Welcome"},s.createElement(M,{to:"/admin"},s.createElement(x.FontAwesomeIcon,{icon:P.faCog}),"Admin"),s.createElement("img",{src:le.a,className:"logo",alt:"logo"}),s.createElement("div",{className:"title"},"Welcome to Reactron"),e)},t}(s.Component),description:"Welcome Component",displayName:"Welcome",name:"Welcome",fields:[]},se,ue,Z],de=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},he=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ye=window.System,ve={};ve.react=s,ve["react-dom"]=u,ve["react-router-dom"]=V,ve.moment={default:l.a},ve["moment-timezone"]={default:z.a},ve["@fortawesome/fontawesome-svg-core"]=F,ve["@fortawesome/free-solid-svg-icons"]=P,ve["@fortawesome/free-regular-svg-icons"]=G,ve["@fortawesome/free-brands-svg-icons"]=R,ve["@fortawesome/react-fontawesome"]=x,b.electron&&(ve.electron=b.electron),Object.keys(ve).forEach(function(e){var t=ve[e];ye.register(e,[],function(e){return{execute:function(){return e(t)}}})});var we=new(function(){function e(){this.allComponentsLoaded=!1,this.moduleComponents={reactron:me}}return e.prototype.getModuleComponents=function(e){return de(this,void 0,Promise,function(){var t,n;return he(this,function(o){switch(o.label){case 0:return this.moduleComponents[e]?[3,3]:[4,E.getModules()];case 1:return t=o.sent(),(n=t.find(function(t){return t.name===e}))?[4,this.registerModuleComponents(n)]:(console.error("Module not found: "+e),[2]);case 2:o.sent(),o.label=3;case 3:return[2,this.moduleComponents[e]]}})})},e.prototype.registerModuleComponents=function(e){return de(this,void 0,Promise,function(){var t,n,o;return he(this,function(r){switch(r.label){case 0:if(!e.browserFile)return console.log("Module has no browserFile: "+e.name),[2];if(this.moduleComponents[e.name])return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),console.log(e.browserFile),[4,ye.import("\\"+e.browserFile)];case 2:return t=r.sent(),(n=t.components)&&"object"===typeof n&&Array.isArray(n)&&(this.moduleComponents[e.name]=n),console.log("Components loaded for module: "+e.name),[3,4];case 3:return o=r.sent(),console.error("Error loading components for module: "+e.name,o),[3,4];case 4:return[2]}})})},e.prototype.getAllComponents=function(){return de(this,void 0,Promise,function(){var e,t,n,o;return he(this,function(r){switch(r.label){case 0:return this.allComponentsLoaded?[2,this.moduleComponents]:[4,E.getModules()];case 1:e=r.sent(),t=0,n=e,r.label=2;case 2:return t<n.length?(o=n[t],[4,this.registerModuleComponents(o)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return this.allComponentsLoaded=!0,[2,this.moduleComponents]}})})},e}()),be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ge=function(){return(ge=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_e=function(e){function t(t,n){var o=e.call(this,t)||this;return o.componentName=n,o.componentLoader=we,o.renderComponent=function(e){return c.a.createElement(Le,ge({},e))},o.renderLoading=function(e,t){return c.a.createElement(L,{text:e,iconSize:t})},o}return be(t,e),t}(w),Oe=c.a.createContext(new _e("","")),Ce=(n(158),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.render=function(){var e=[];return this.props.id&&e.push("Id: "+this.props.id),this.props.componentName&&e.push("Component: "+this.props.componentName),this.props.moduleName&&e.push("Module: "+this.props.moduleName),s.createElement("section",{className:"ComponentNotFound"},s.createElement(x.FontAwesomeIcon,{icon:P.faExclamationTriangle,size:this.props.iconSize}),s.createElement("div",{className:"text"},"Component not found: ",e.join(" | ")),s.createElement(M,{to:"/admin"},s.createElement(x.FontAwesomeIcon,{icon:P.faCog})," Admin"))},t.defaultProps={iconSize:"4x"},t}(s.Component),Se=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ee=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:null},n}return Se(t,e),t.prototype.componentDidCatch=function(e,t){console.log(e),console.log(t),this.setState({error:e})},t.prototype.render=function(){return this.state.error?s.createElement("h1",null,"Something went wrong."):this.props.children},t}(s.Component),Pe=(n(160),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),xe=function(){return(xe=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},je=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},Ae=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Le=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return Pe(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.id===e.id&&this.props.moduleName===e.moduleName&&this.props.componentName===e.componentName&&this.props.options===e.options||this.loadComponent()},t.prototype.componentDidMount=function(){this.loadComponent()},t.prototype.loadComponent=function(){return je(this,void 0,void 0,function(){var e,t,n,o,r,i,a=this;return Ae(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),e=void 0,this.props.id?[4,E.getWebComponentOptions()]:[3,2];case 1:return t=s.sent(),e=t.find(function(e){return e.id===a.props.id}),[3,3];case 2:this.props.moduleName&&this.props.componentName&&(e={id:"",moduleName:this.props.moduleName,componentName:this.props.componentName,options:this.props.options}),s.label=3;case 3:return e?[4,we.getModuleComponents(e.moduleName)]:(this.setState({componentFound:!1}),[2]);case 4:return(n=s.sent())?(o=e.componentName,(r=n.find(function(e){return e.name===o}))&&r.component?(this.setState({componentContext:new _e(e.moduleName,e.componentName),componentDefinition:r,componentOptions:e,componentFound:!0}),[3,6]):(this.setState({componentFound:!1}),[2])):(this.setState({componentFound:!1}),[2]);case 5:return i=s.sent(),console.log(i),this.setState({componentFound:!1}),[3,6];case 6:return[2]}})})},t.prototype.render=function(){var e=s.createElement(L,{center:!0});if(!1===this.state.componentFound&&(e=s.createElement(Ne,xe({},this.props))),this.state.componentDefinition&&this.state.componentDefinition.component&&this.state.componentContext){var t=this.state.componentDefinition.component;t.contextType||(t.contextType=Oe);var n=this.state.componentOptions&&this.state.componentOptions.options||{};e=s.createElement(Oe.Provider,{value:this.state.componentContext},s.createElement(t,xe({},n)))}return s.createElement("section",{className:"WebComponent"},s.createElement(Ee,null,e))},t}(s.Component),Te=(n(162),n(164),n(165),n(166),n(167),n(168),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),ke=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},Me=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},We=function(e){function t(t){var n=e.call(this,t)||this;return n.reloadWait=2e3,n.state={},n.reload=n.reload.bind(n),n.triggerReload=n.triggerReload.bind(n),n}return Te(t,e),t.prototype.componentDidMount=function(){this.init(),b.topics&&(b.topics.subscribe("pages-updated",this.triggerReload),b.topics.subscribe("components-updated",this.triggerReload),b.topics.subscribe("system-settings-updated",this.triggerReload))},t.prototype.init=function(){return ke(this,void 0,void 0,function(){var e,t;return Me(this,function(n){switch(n.label){case 0:return[4,E.getSettings()];case 1:return e=n.sent(),l.a.locale(e.lang),[4,E.getWebPages()];case 2:return t=n.sent(),[2,this.setState({pages:t})]}})})},t.prototype.triggerReload=function(){console.log("triggerReload",arguments),window.clearTimeout(this.reloadTimer),this.reloadTimer=window.setTimeout(this.reload,this.reloadWait)},t.prototype.reload=function(){E.getWebPages.clearCache(),E.getWebComponentOptions.clearCache(),this.init()},t.prototype.renderPage=function(e,t){return function(){return s.createElement("section",{className:"WebPage",style:t},s.createElement(Le,{id:e}))}},t.prototype.render=function(){var e=this,t=s.createElement(L,{text:"Loading Reactron...",center:!0});return this.state.pages&&(t=s.createElement(f.a,null,s.createElement(m.a,null,this.state.pages.map(function(t){return s.createElement(d.a,{key:t.path,path:t.path,exact:"/"===t.path,component:e.renderPage(t.webComponentId,t.style)})}),s.createElement(d.a,{component:I})))),s.createElement("section",{className:"App"},t)},t}(s.Component);n(169);u.render(s.createElement(Ee,null,s.createElement(We,null)),document.getElementById("root"))},45:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},47:function(e,t,n){e.exports=n(171)},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){}},[[47,2,1]]]);
//# sourceMappingURL=main.af37a3b7.chunk.js.map